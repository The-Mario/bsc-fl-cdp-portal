import React from"react";import PropTypes from"prop-types";import styled from"styled-components";import{Flex,Box,Dropdown,DefaultDropdown}from"@makerdao/ui-components-core";import{themeGet}from"styled-system";import{translate}from"@makerdao/i18n-helper";function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _taggedTemplateLiteralLoose(e,t){return t||(t=e.slice(0)),e.raw=t,e}function _templateObject2(){var e=_taggedTemplateLiteralLoose(["\n  width: 20px;\n  height: 16px;\n  position: relative;\n  transform: rotate(0deg);\n  transition: 0.5s ease-in-out;\n  cursor: pointer;\n\n  span {\n    display: block;\n    position: absolute;\n    height: 2px;\n    width: 100%;\n    background: ",";\n    opacity: 1;\n    left: 0;\n    transform: rotate(0deg);\n    transition: 0.25s ease-in-out;\n\n    &:nth-child(1) {\n      top: 0px;\n      transform-origin: left center;\n    }\n\n    &:nth-child(2) {\n      top: 7px;\n      transform-origin: left center;\n    }\n\n    &:nth-child(3) {\n      top: 14px;\n      transform-origin: left center;\n    }\n\n    ","\n  }\n"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteralLoose([""]);return _templateObject=function(){return e},e}var Patty=styled.span(_templateObject()),HamburgerBun=styled.div(_templateObject2(),function(e){return e.theme.header.linkHeaderColor},function(e){return e.isCross&&"\n      &:nth-child(1) {\n        transform: rotate(45deg);\n        left: 0px;\n      }\n\n      &:nth-child(2) {\n        width: 0%;\n        opacity: 0;\n      }\n\n      &:nth-child(3) {\n        transform: rotate(-45deg);\n        left: 0px;\n      }\n    "}),Hamburger=function(e){var t=e.active;return React.createElement(HamburgerBun,{isCross:t},React.createElement(Patty,null),React.createElement(Patty,null),React.createElement(Patty,null))};Hamburger.propTypes={active:PropTypes.bool};var downCaret="data:image/svg+xml,%3Csvg%20width%3D%2215%22%20height%3D%227%22%20viewBox%3D%220%200%2015%207%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M-1.38091e-05%20-4.85498e-06L5.09999%205.77L-1.38091e-05%2011.54%22%20transform%3D%22translate%2813.32%201%29%20rotate%2890%29%22%20stroke%3D%22%23231536%22%20stroke-width%3D%221.7%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E";function _templateObject3(){var e=_taggedTemplateLiteralLoose(["\n  opacity: 0;\n  height: auto;\n  max-height: 0px;\n  transform-origin: top;\n  transition: all 0.25s ease-in-out;\n  pointer-events: none;\n\n  ","\n"]);return _templateObject3=function(){return e},e}function _templateObject2$1(){var e=_taggedTemplateLiteralLoose(["\n  &:not(:last-child) {\n    border-bottom: 1px solid rgba(126, 127, 154, 0.2);\n  }\n"]);return _templateObject2$1=function(){return e},e}function _templateObject$1(){var e=_taggedTemplateLiteralLoose(["\n  color: ",';\n  cursor: pointer;\n  font-size: 1.95rem;\n\n  &:after {\n    transition: transform 0.2s;\n    content: "";\n    mask: url(',") center center no-repeat;\n    background-color: ",";\n    width: 2.8rem;\n    height: 1.6rem;\n    margin-right: 0.6rem;\n    ","\n  }\n"]);return _templateObject$1=function(){return e},e}var MobileDropdownHeader=styled(Flex)(_templateObject$1(),function(e){return e.theme.header.linkHeaderColor},downCaret,function(e){return e.theme.header.linkHeaderColor},function(e){return e.open&&"transform: rotate(180deg);"}),MobileDropdownContainer=styled(Box)(_templateObject2$1()),MobileDropdownItemsContainer=styled.div(_templateObject3(),function(e){return e.open&&"\n    pointer-events: unset;\n    max-height: 500px;\n    opacity: 1;\n  "}),MobileHeaderDropdown=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={open:!1},n}_inheritsLoose(t,e);var n=t.prototype;return n.toggleDropdown=function(){this.setState({open:!this.state.open})},n.render=function(){return React.createElement(MobileDropdownContainer,{pt:"1.4rem",pb:"1rem"},React.createElement(MobileDropdownHeader,{pb:"0.7rem",justifyContent:"space-between",alignItems:"center",open:this.state.open,onClick:this.toggleDropdown.bind(this)},this.props.title),React.createElement(MobileDropdownItemsContainer,{open:this.state.open},this.props.children))},t}(React.Component);MobileHeaderDropdown.propTypes={title:PropTypes.string,children:PropTypes.node};var withInternalLink=function(e,t,n){var r=function(r){function o(e){return r.call(this,e)||this}return _inheritsLoose(o,r),o.prototype.render=function(){var r=require("url"),o=new(r&&r.URL||URL)(this.props.to);return e&&o.host===n&&!this.props.external?React.createElement(e,{to:o.pathname},this.props.children):React.createElement(t,{href:this.props.to,target:"_blank",rel:"noopener noreferrer"},this.props.children)},o}(React.Component);return r.propTypes={to:PropTypes.string,external:PropTypes.bool,host:PropTypes.string,children:PropTypes.node},r},_extends$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _objectWithoutProperties$1(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var MakerLogo=e=>{let{styles:t={}}=e,n=_objectWithoutProperties$1(e,["styles"]);return React.createElement("svg",_extends$1({width:"117",height:"23",viewBox:"0 0 117 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),React.createElement("path",{className:t.text||"text",d:"M108.375 6.08c-.157 0-.236.08-.393.16a.614.614 0 0 0-.157.398v11.724c0 .16.079.24.157.399.079.08.236.16.393.16.157 0 .236-.08.393-.16a.614.614 0 0 0 .157-.399v-5.344h2.987l2.75 5.663c.08.16.237.319.472.319.079 0 .158 0 .236-.08.157-.08.236-.16.236-.319.079-.16 0-.239 0-.398l-2.515-5.185c.865-.16 1.65-.558 2.2-1.196.63-.638.865-1.356.865-2.233 0-.957-.393-1.755-1.1-2.472-.707-.638-1.572-1.037-2.594-1.037h-4.087zm5.895 5.104c-.472.479-1.1.718-1.808.718h-3.537V7.117h3.459c.707 0 1.336.239 1.886.717.55.479.786 1.037.786 1.675 0 .638-.314 1.197-.786 1.675zm-11.24 7.736c.158 0 .236-.08.393-.16a.614.614 0 0 0 .158-.398c0-.16-.079-.24-.158-.399a.596.596 0 0 0-.393-.16h-6.523v-4.785h4.873c.157 0 .236-.08.393-.16a.614.614 0 0 0 .157-.398c0-.16-.078-.24-.157-.399a.596.596 0 0 0-.393-.16h-4.873V7.118h6.523c.158 0 .236-.08.393-.16a.614.614 0 0 0 .158-.399c0-.16-.079-.239-.158-.398a.596.596 0 0 0-.393-.16h-7.073c-.157 0-.236.08-.393.16a.614.614 0 0 0-.157.398v11.804c0 .16.078.24.157.399.078.08.236.16.393.16h7.073zm-19.57-.239a.614.614 0 0 0 .157-.399v-3.43l1.572-1.674 5.266 5.583c.079.08.236.16.393.16.157 0 .236-.08.393-.16a.614.614 0 0 0 .157-.399c0-.16-.079-.24-.157-.399l-5.266-5.662 5.109-5.344a.614.614 0 0 0 .157-.399c0-.16-.079-.239-.157-.398A.595.595 0 0 0 90.69 6c-.157 0-.236.08-.393.16l-6.681 7.177V6.558c0-.16-.079-.239-.157-.398a.596.596 0 0 0-.393-.16c-.157 0-.236.08-.393.16 0 .159-.079.239-.079.398v11.724c0 .16.079.24.157.399.079.08.236.16.393.16.079 0 .236-.08.315-.16zm-14.934.24c.236 0 .393-.08.472-.32l1.1-2.711h6.445l1.1 2.711c.08.24.236.32.472.32.079 0 .157 0 .236-.08a.618.618 0 0 0 .314-.32c.079-.159.079-.239 0-.398l-1.257-3.031-3.616-8.773s0-.08-.078-.08v-.08h-.079c-.079-.08-.157-.08-.157-.08h-.157-.157c-.08 0-.158 0-.158.08h-.078v.08s0 .08-.079.08l-3.615 8.773-1.258 3.03c-.079.16-.079.24 0 .4.079.159.157.239.314.318.079.08.158.08.236.08zm1.965-4.068l2.83-6.86 2.83 6.86h-5.66zm-18.313-6.3l4.794 7.975v.08H57.916v-.08l4.794-7.976v9.89c0 .16.079.239.157.399.079.08.236.159.393.159.157 0 .236-.08.393-.16a.614.614 0 0 0 .157-.398V6.638c0-.24-.157-.478-.393-.478-.235-.08-.471 0-.628.239l-5.345 8.773-5.266-8.853c-.157-.24-.393-.319-.629-.24-.236.08-.393.24-.393.559v11.804c0 .16.079.239.157.398.079 0 .236.08.393.08.158 0 .236-.08.393-.16a.614.614 0 0 0 .158-.398v-9.81h-.079z",fill:"#291A41",stroke:"#291A41",strokeWidth:".35"}),React.createElement("path",{className:t["left-arch"]||"left-arch",d:"M15.872 20.69v-9.44a2 2 0 0 0-.893-1.666L3.602 2.031a1 1 0 0 0-1.553.833V20.69",stroke:"#291A41",strokeWidth:"2.2"}),React.createElement("path",{className:t["right-arch"]||"right-arch",d:"M21.212 20.69v-9.44a2 2 0 0 1 .894-1.666l11.377-7.553a1 1 0 0 1 1.553.833V20.69",stroke:"#291A41",strokeWidth:"2.2"}),React.createElement("rect",{className:t["left-arch-ends"]||"left-arch-ends",width:"2.2",height:"3",rx:"1.1",transform:"translate(.95 19.2)",fill:"#291A41"}),React.createElement("rect",{className:t["right-arch-ends"]||"right-arch-ends",width:"2.2",height:"3",rx:"1.1",transform:"translate(20.11 19.2)",fill:"#291A41"}),React.createElement("rect",{className:t["right-arch-ends"]||"right-arch-ends",width:"2.2",height:"3",rx:"1.1",transform:"translate(33.93 19.2)",fill:"#291A41"}),React.createElement("rect",{className:t["left-arch-ends"]||"left-arch-ends",width:"2.2",height:"3",rx:"1.1",transform:"translate(14.77 19.2)",fill:"#291A41"}))};function _templateObject$2(){var e=_taggedTemplateLiteralLoose(["\n  & .left-arch {\n    stroke: ",";\n  }\n\n  & .left-arch-ends {\n    fill: ",";\n  }\n\n  & .right-arch {\n    stroke: ",";\n  }\n\n  & .right-arch-ends {\n    fill: ",";\n  }\n\n  & .text {\n    stroke: ",";\n    fill: ",";\n  }\n"]);return _templateObject$2=function(){return e},e}var LogoWrapper=styled.div(_templateObject$2(),function(e){return e.theme.logo.color},function(e){return e.theme.logo.color},function(e){return e.theme.logo.color},function(e){return e.theme.logo.color},function(e){return e.theme.logo.color},function(e){return e.theme.logo.color});LogoWrapper.defaultProps={theme:{logo:{color:"#30BD9F"}}};var Logo=function(){return React.createElement(LogoWrapper,null,React.createElement(MakerLogo,null))};function _templateObject4(){var e=_taggedTemplateLiteralLoose(["\n  line-height: 3.4rem;\n  color: #48495f;\n  font-size: 1.6rem;\n  &:hover {\n    color: black;\n  }\n"]);return _templateObject4=function(){return e},e}function _templateObject3$1(){var e=_taggedTemplateLiteralLoose(["\n  color: ",";\n  line-height: 2.4rem;\n  transition: color 0.2s ease-in-out;\n  text-decoration: none;\n  font-size: 1.6rem;\n  cursor: pointer;\n\n  &:hover {\n    color: black;\n  }\n"]);return _templateObject3$1=function(){return e},e}function _templateObject2$2(){var e=_taggedTemplateLiteralLoose(["\n  background-color: ",";\n  overflow-y: scroll;\n  transition: all 0.2s ease-in-out;\n"]);return _templateObject2$2=function(){return e},e}function _templateObject$3(){var e=_taggedTemplateLiteralLoose(["\n  font-weight: 500;\n  cursor: pointer;\n  color: ",";\n  font-size: 1.6rem;\n"]);return _templateObject$3=function(){return e},e}Logo.propTypes={theme:PropTypes.shape({logo:PropTypes.shape({color:PropTypes.string})})};var Trigger=styled.span(_templateObject$3(),function(e){return e.theme.header.linkHeaderColor}),MobileMenu=styled(Box)(_templateObject2$2(),function(e){return e.theme.header.mobileMenuBackground||e.theme.header.backgroundColor}),HeaderDropdownLink=styled.a(_templateObject3$1(),function(e){return e.theme.header.linkColor}),MobileHeaderDropdownLink=styled.a(_templateObject4()),Header=function(e){function t(t){var n,r=(n=e.call(this,t)||this).props.linkComponent?HeaderDropdownLink.withComponent(n.props.linkComponent):null,o=n.props.linkComponent?MobileHeaderDropdownLink.withComponent(n.props.linkComponent):null,a=withInternalLink(r,HeaderDropdownLink,n.props.host),l=withInternalLink(o,MobileHeaderDropdownLink,n.props.host);return n.DesktopLink=a,n.MobileLink=l,n.state={mobileMenuOpen:!1},n}_inheritsLoose(t,e);var n=t.prototype;return n.toggleMenu=function(){this.state.mobileMenuOpen?(document.body.style.overflow="unset",document.body.style.height="unset"):(document.body.style.overflow="hidden",document.body.style.height="100vh"),this.setState({mobileMenuOpen:!this.state.mobileMenuOpen})},n.render=function(){var e=this,t=this.DesktopLink,n=this.MobileLink,r=function(t){return translate(t,e.props.locale)},o=[{title:r("Products"),items:[{text:r("Dai Stablecoin"),to:"https://makerdao.com/dai"},{text:r("CDP Portal"),to:"https://"+r("cdp-portal-subdomain")+".makerdao.com"},{text:r("Governance"),to:"https://vote.makerdao.com"},{text:r("Platform Data"),to:"https://mkr.tools/"}]},{title:r("Learn"),items:[{text:r("FAQ"),to:"https://awesome.makerdao.com/#faqs"},{text:r("Developer"),to:"https://makerdao.com/documentation",external:!0},{text:r("White Paper"),to:"https://makerdao.com/whitepaper"},{text:r("Roadmap"),to:"https://makerdao.com/roadmap"}]},{title:r("Foundation"),items:[{text:r("Team"),to:"https://makerdao.com/team"},{text:r("Careers"),to:"https://makerdao.com/careers"},{text:r("Contact"),to:"https://makerdao.com/contact"}]},{title:r("Community"),items:[{text:r("Blog"),to:"https://blog.makerdao.com"},{text:r("Forum"),to:"https://forum.makerdao.com"},{text:r("Chat"),to:"https://chat.makerdao.com"},{text:r("Subreddit"),to:"https://www.reddit.com/r/MakerDAO"},{text:r("Events"),to:"https://makerdao.com/events"}]}],a=o;return React.createElement(Box,{bg:themeGet("header.backgroundColor"),width:"100%",position:"relative"},React.createElement(Flex,{p:"2rem 2.5rem 1.4rem 2.5rem",maxWidth:"1140px",m:"0 auto",justifyContent:"space-between",alignItems:"center"},React.createElement("div",null,React.createElement("a",{href:"/"},React.createElement(Logo,null))),React.createElement(Box,{display:this.state.mobileMenuOpen?"none":"flex"},o.map(function(e){return React.createElement(Box,{pl:"90px",key:e.title,display:["none","none","block"]},React.createElement(Dropdown,{trigger:React.createElement(Trigger,null,e.title)},React.createElement(DefaultDropdown,null,e.items.map(function(e,n){return React.createElement("div",{key:n},React.createElement(t,{to:e.to,external:e.external},e.text))}))))})),React.createElement(Box,{p:"25px",m:"-25px",onClick:this.toggleMenu.bind(this),display:["block","block",this.state.mobileMenuOpen?"block":"none"]},React.createElement(Hamburger,{active:this.state.mobileMenuOpen}))),React.createElement(MobileMenu,{width:"100vw",opacity:this.state.mobileMenuOpen?1:0,height:this.state.mobileMenuOpen?"100%":"0",position:"fixed",left:"0",zIndex:"99"},React.createElement(Box,{p:"2.3rem 2.5rem 10.3rem 2.5rem",m:"0 auto",maxWidth:"1140px"},a.map(function(t){return React.createElement(MobileHeaderDropdown,{title:t.title,key:t.title},t.items.map(function(t,r){return React.createElement("div",{key:r,onClick:e.toggleMenu.bind(e)},React.createElement(n,{to:t.to,external:t.external},t.text))}))}))))},t}(React.Component);Header.propTypes={linkComponent:PropTypes.any,host:PropTypes.string,locale:PropTypes.string};export default Header;
