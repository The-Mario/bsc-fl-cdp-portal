{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/ProxyAllowanceToggle.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React from 'react';\nimport { Grid } from '@makerdao/ui-components-core';\nimport useProxy from 'hooks/useProxy';\nimport useTokenAllowance from 'hooks/useTokenAllowance';\nimport AllowanceToggle from './AllowanceToggle';\nimport ProxyToggle from './ProxyToggle';\n\nvar ProxyAllowanceToggle = function ProxyAllowanceToggle(_ref) {\n  var token = _ref.token,\n      trackBtnClick = _ref.trackBtnClick,\n      _ref$onlyShowAllowanc = _ref.onlyShowAllowance,\n      onlyShowAllowance = _ref$onlyShowAllowanc === void 0 ? false : _ref$onlyShowAllowanc;\n\n  var _useTokenAllowance = useTokenAllowance(token),\n      hasAllowance = _useTokenAllowance.hasAllowance,\n      hasFetchedAllowance = _useTokenAllowance.hasFetchedAllowance,\n      setAllowance = _useTokenAllowance.setAllowance,\n      allowanceLoading = _useTokenAllowance.allowanceLoading,\n      startedWithoutAllowance = _useTokenAllowance.startedWithoutAllowance;\n\n  var _useProxy = useProxy(),\n      setupProxy = _useProxy.setupProxy,\n      proxyLoading = _useProxy.proxyLoading,\n      startedWithoutProxy = _useProxy.startedWithoutProxy,\n      hasProxy = _useProxy.hasProxy,\n      initialProxyCheck = _useProxy.initialProxyCheck;\n\n  var showToggles = !hasProxy || !hasAllowance || startedWithoutProxy || startedWithoutAllowance;\n  var showProxy = !onlyShowAllowance && !initialProxyCheck && (startedWithoutProxy || proxyLoading || !hasProxy);\n  var showAllowance = startedWithoutAllowance || allowanceLoading || hasFetchedAllowance && !hasAllowance;\n  return showToggles ? /*#__PURE__*/React.createElement(Grid, {\n    gridRowGap: \"s\",\n    \"data-testid\": \"toggle-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, showProxy && /*#__PURE__*/React.createElement(ProxyToggle, {\n    isLoading: proxyLoading,\n    isComplete: !!hasProxy,\n    onToggle: setupProxy,\n    disabled: !!hasProxy,\n    \"data-testid\": \"proxy-toggle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), showAllowance && /*#__PURE__*/React.createElement(AllowanceToggle, {\n    tokenDisplayName: token,\n    isLoading: allowanceLoading,\n    isComplete: hasAllowance,\n    onToggle: setAllowance,\n    disabled: !onlyShowAllowance && !hasProxy || hasAllowance,\n    trackBtnClick: trackBtnClick,\n    \"data-testid\": \"allowance-toggle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  });\n};\n\n__signature__(ProxyAllowanceToggle, \"useTokenAllowance{{\\n    hasAllowance,\\n    hasFetchedAllowance,\\n    setAllowance,\\n    allowanceLoading,\\n    startedWithoutAllowance\\n  }}\\nuseProxy{{\\n    setupProxy,\\n    proxyLoading,\\n    startedWithoutProxy,\\n    hasProxy,\\n    initialProxyCheck\\n  }}\", function () {\n  return [useTokenAllowance, useProxy];\n});\n\nvar _default = ProxyAllowanceToggle;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(ProxyAllowanceToggle, \"ProxyAllowanceToggle\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/ProxyAllowanceToggle.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/ProxyAllowanceToggle.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/ProxyAllowanceToggle.js"],"names":["React","Grid","useProxy","useTokenAllowance","AllowanceToggle","ProxyToggle","ProxyAllowanceToggle","token","trackBtnClick","onlyShowAllowance","hasAllowance","hasFetchedAllowance","setAllowance","allowanceLoading","startedWithoutAllowance","setupProxy","proxyLoading","startedWithoutProxy","hasProxy","initialProxyCheck","showToggles","showProxy","showAllowance"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,8BAArB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,iBAAP,MAA8B,yBAA9B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,OAIvB;AAAA,MAHJC,KAGI,QAHJA,KAGI;AAAA,MAFJC,aAEI,QAFJA,aAEI;AAAA,mCADJC,iBACI;AAAA,MADJA,iBACI,sCADgB,KAChB;;AAAA,2BAOAN,iBAAiB,CAACI,KAAD,CAPjB;AAAA,MAEFG,YAFE,sBAEFA,YAFE;AAAA,MAGFC,mBAHE,sBAGFA,mBAHE;AAAA,MAIFC,YAJE,sBAIFA,YAJE;AAAA,MAKFC,gBALE,sBAKFA,gBALE;AAAA,MAMFC,uBANE,sBAMFA,uBANE;;AAAA,kBAeAZ,QAAQ,EAfR;AAAA,MAUFa,UAVE,aAUFA,UAVE;AAAA,MAWFC,YAXE,aAWFA,YAXE;AAAA,MAYFC,mBAZE,aAYFA,mBAZE;AAAA,MAaFC,QAbE,aAaFA,QAbE;AAAA,MAcFC,iBAdE,aAcFA,iBAdE;;AAiBJ,MAAMC,WAAW,GACf,CAACF,QAAD,IACA,CAACR,YADD,IAEAO,mBAFA,IAGAH,uBAJF;AAKA,MAAMO,SAAS,GACb,CAACZ,iBAAD,IACA,CAACU,iBADD,KAECF,mBAAmB,IAAID,YAAvB,IAAuC,CAACE,QAFzC,CADF;AAIA,MAAMI,aAAa,GACjBR,uBAAuB,IACvBD,gBADA,IAECF,mBAAmB,IAAI,CAACD,YAH3B;AAKA,SAAOU,WAAW,gBAChB,oBAAC,IAAD;AAAM,IAAA,UAAU,EAAC,GAAjB;AAAqB,mBAAY,kBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,SAAS,iBACR,oBAAC,WAAD;AACE,IAAA,SAAS,EAAEL,YADb;AAEE,IAAA,UAAU,EAAE,CAAC,CAACE,QAFhB;AAGE,IAAA,QAAQ,EAAEH,UAHZ;AAIE,IAAA,QAAQ,EAAE,CAAC,CAACG,QAJd;AAKE,mBAAY,cALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAUGI,aAAa,iBACZ,oBAAC,eAAD;AACE,IAAA,gBAAgB,EAAEf,KADpB;AAEE,IAAA,SAAS,EAAEM,gBAFb;AAGE,IAAA,UAAU,EAAEH,YAHd;AAIE,IAAA,QAAQ,EAAEE,YAJZ;AAKE,IAAA,QAAQ,EAAG,CAACH,iBAAD,IAAsB,CAACS,QAAxB,IAAqCR,YALjD;AAME,IAAA,aAAa,EAAEF,aANjB;AAOE,mBAAY,kBAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CADgB,gBAwBhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF;AA0BD,CA7DD;;cAAMF,oB;UAWAH,iB,EAQAD,Q;;;eA4CSI,oB;AAAf;;;;;;;;;;0BA/DMA,oB","sourcesContent":["import React from 'react';\nimport { Grid } from '@makerdao/ui-components-core';\nimport useProxy from 'hooks/useProxy';\nimport useTokenAllowance from 'hooks/useTokenAllowance';\nimport AllowanceToggle from './AllowanceToggle';\nimport ProxyToggle from './ProxyToggle';\n\nconst ProxyAllowanceToggle = ({\n  token,\n  trackBtnClick,\n  onlyShowAllowance = false\n}) => {\n  const {\n    hasAllowance,\n    hasFetchedAllowance,\n    setAllowance,\n    allowanceLoading,\n    startedWithoutAllowance\n  } = useTokenAllowance(token);\n\n  const {\n    setupProxy,\n    proxyLoading,\n    startedWithoutProxy,\n    hasProxy,\n    initialProxyCheck\n  } = useProxy();\n\n  const showToggles =\n    !hasProxy ||\n    !hasAllowance ||\n    startedWithoutProxy ||\n    startedWithoutAllowance;\n  const showProxy =\n    !onlyShowAllowance &&\n    !initialProxyCheck &&\n    (startedWithoutProxy || proxyLoading || !hasProxy);\n  const showAllowance =\n    startedWithoutAllowance ||\n    allowanceLoading ||\n    (hasFetchedAllowance && !hasAllowance);\n\n  return showToggles ? (\n    <Grid gridRowGap=\"s\" data-testid=\"toggle-container\">\n      {showProxy && (\n        <ProxyToggle\n          isLoading={proxyLoading}\n          isComplete={!!hasProxy}\n          onToggle={setupProxy}\n          disabled={!!hasProxy}\n          data-testid=\"proxy-toggle\"\n        />\n      )}\n      {showAllowance && (\n        <AllowanceToggle\n          tokenDisplayName={token}\n          isLoading={allowanceLoading}\n          isComplete={hasAllowance}\n          onToggle={setAllowance}\n          disabled={(!onlyShowAllowance && !hasProxy) || hasAllowance}\n          trackBtnClick={trackBtnClick}\n          data-testid=\"allowance-toggle\"\n        />\n      )}\n    </Grid>\n  ) : (\n    <div />\n  );\n};\n\nexport default ProxyAllowanceToggle;\n"]},"metadata":{},"sourceType":"module"}