{"ast":null,"code":"import _objectSpread from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport mixpanel from 'mixpanel-browser';\nimport { useCurrentRoute } from 'react-navi';\nimport { Routes } from 'utils/constants';\nimport references from 'references/config';\nvar env = process.env.NODE_ENV === 'production' ? 'prod' : 'test';\nvar fathomGoals = {\n  test: {\n    connectWallet: 'HDM3M0GY',\n    ETHVaultDeposit: 'TEZECNXD',\n    ETHVaultWithdraw: 'NLXKLFB0',\n    ETHVaultPayback: 'MUOTJQBT',\n    ETHVaultGenerate: 'RNETPMAI',\n    BATVaultDeposit: '79HIQJYY',\n    BATVaultWithdraw: 'EWFRWHQF',\n    BATVaultPayback: 'J7LCT5MR',\n    BATVaultGenerate: 'NKEQFMM9',\n    USDCVaultDeposit: 'UVIG1MBQ',\n    USDCVaultWithdraw: '2MBIXK34',\n    USDCVaultPayback: 'MOSFNWOM',\n    USDCVaultGenerate: '5NXLJ2ZN',\n    saveDeposit: 'PYNWBWXG',\n    saveWithdraw: 'E33XOIJF',\n    openETHVaultDraw: 'QGVJSAAV',\n    openETHVaultLock: 'Q6UC3LYV',\n    openBATVaultDraw: 'X5RCGZXR',\n    openBATVaultLock: 'VJLUZIYC',\n    openUSDCVaultDraw: 'Q8AWKLIZ',\n    openUSDCVaultLock: 'VKR8JNQ4'\n  },\n  prod: {\n    connectWallet: 'HSZ7AZRX',\n    ETHVaultDeposit: 'EXMETZQL',\n    ETHVaultWithdraw: 'NSCIPQVS',\n    ETHVaultPayback: 'UZFZZTM0',\n    ETHVaultGenerate: 'OUBOEVS8',\n    BATVaultDeposit: 'QWUJWV5S',\n    BATVaultWithdraw: '9RRSG9IN',\n    BATVaultPayback: '9DA6DXTL',\n    BATVaultGenerate: 'DWIZTBPQ',\n    USDCVaultDeposit: 'YQREX5ZA',\n    USDCVaultWithdraw: '5QTQNT62',\n    USDCVaultPayback: 'RCUL7HVD',\n    USDCVaultGenerate: 'XW8MTQ2H',\n    saveDeposit: 'HZP70W8E',\n    saveWithdraw: 'QOFRJW54',\n    openETHVaultDraw: 'H1VSU5CI',\n    openETHVaultLock: 'D4ZV2V4Y',\n    openBATVaultDraw: 'GDPZ3L0Z',\n    openBATVaultLock: '3GOF3WFX',\n    openUSDCVaultDraw: '6IPC7OMM',\n    openUSDCVaultLock: 'ZDFJQEFO'\n  }\n}[env];\nexport default function useAnalytics(section) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var product = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n  var _useCurrentRoute = useCurrentRoute(),\n      url = _useCurrentRoute.url,\n      title = _useCurrentRoute.title;\n\n  var getPageName = function getPageName(title) {\n    return references.trackingPages[title] || title;\n  }; // Fathom interprets 'amount' in cents, multiply by 100 to get dollars\n\n\n  var trackFathomGoal = function trackFathomGoal(goal) {\n    return window.fathom('trackGoal', fathomGoals[goal.id], goal.amount * 100 || 0);\n  };\n\n  var getProductName = function getProductName(pathname) {\n    return pathname.startsWith(\"/\".concat(Routes.BORROW)) ? 'Borrow' : pathname.startsWith(\"/\".concat(Routes.SAVE)) ? 'Save' : pathname;\n  };\n\n  var mixpanelOptions = {\n    section: section,\n    page: page || getPageName(title),\n    product: product || getProductName(url.pathname)\n  };\n\n  var trackBtnClick = function trackBtnClick(id) {\n    var additionalProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var fathom = additionalProps.fathom;\n\n    if (fathom) {\n      if (Array.isArray(fathom)) fathom.forEach(function (goal) {\n        return trackFathomGoal(goal);\n      });else trackFathomGoal(fathom);\n      delete additionalProps.fathom;\n    }\n\n    mixpanel.track('btn-click', _objectSpread({\n      id: id\n    }, mixpanelOptions, {}, additionalProps));\n  };\n\n  var trackInputChange = function trackInputChange(id, additionalProps) {\n    mixpanel.track('input-change', _objectSpread({\n      id: id\n    }, mixpanelOptions, {}, additionalProps));\n  };\n\n  return {\n    trackBtnClick: trackBtnClick,\n    trackInputChange: trackInputChange\n  };\n}\n\n__signature__(useAnalytics, \"useCurrentRoute{{ url, title }}\", function () {\n  return [useCurrentRoute];\n});\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(env, \"env\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useAnalytics.js\");\n  reactHotLoader.register(fathomGoals, \"fathomGoals\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useAnalytics.js\");\n  reactHotLoader.register(useAnalytics, \"useAnalytics\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useAnalytics.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useAnalytics.js"],"names":["mixpanel","useCurrentRoute","Routes","references","env","process","NODE_ENV","fathomGoals","test","connectWallet","ETHVaultDeposit","ETHVaultWithdraw","ETHVaultPayback","ETHVaultGenerate","BATVaultDeposit","BATVaultWithdraw","BATVaultPayback","BATVaultGenerate","USDCVaultDeposit","USDCVaultWithdraw","USDCVaultPayback","USDCVaultGenerate","saveDeposit","saveWithdraw","openETHVaultDraw","openETHVaultLock","openBATVaultDraw","openBATVaultLock","openUSDCVaultDraw","openUSDCVaultLock","prod","useAnalytics","section","page","product","url","title","getPageName","trackingPages","trackFathomGoal","goal","window","fathom","id","amount","getProductName","pathname","startsWith","BORROW","SAVE","mixpanelOptions","trackBtnClick","additionalProps","Array","isArray","forEach","track","trackInputChange"],"mappings":"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","sourcesContent":["import mixpanel from 'mixpanel-browser';\nimport { useCurrentRoute } from 'react-navi';\nimport { Routes } from 'utils/constants';\nimport references from 'references/config';\n\nconst env = process.env.NODE_ENV === 'production' ? 'prod' : 'test';\nconst fathomGoals = {\n  test: {\n    connectWallet: 'HDM3M0GY',\n    ETHVaultDeposit: 'TEZECNXD',\n    ETHVaultWithdraw: 'NLXKLFB0',\n    ETHVaultPayback: 'MUOTJQBT',\n    ETHVaultGenerate: 'RNETPMAI',\n    BATVaultDeposit: '79HIQJYY',\n    BATVaultWithdraw: 'EWFRWHQF',\n    BATVaultPayback: 'J7LCT5MR',\n    BATVaultGenerate: 'NKEQFMM9',\n    USDCVaultDeposit: 'UVIG1MBQ',\n    USDCVaultWithdraw: '2MBIXK34',\n    USDCVaultPayback: 'MOSFNWOM',\n    USDCVaultGenerate: '5NXLJ2ZN',\n    saveDeposit: 'PYNWBWXG',\n    saveWithdraw: 'E33XOIJF',\n    openETHVaultDraw: 'QGVJSAAV',\n    openETHVaultLock: 'Q6UC3LYV',\n    openBATVaultDraw: 'X5RCGZXR',\n    openBATVaultLock: 'VJLUZIYC',\n    openUSDCVaultDraw: 'Q8AWKLIZ',\n    openUSDCVaultLock: 'VKR8JNQ4'\n  },\n  prod: {\n    connectWallet: 'HSZ7AZRX',\n    ETHVaultDeposit: 'EXMETZQL',\n    ETHVaultWithdraw: 'NSCIPQVS',\n    ETHVaultPayback: 'UZFZZTM0',\n    ETHVaultGenerate: 'OUBOEVS8',\n    BATVaultDeposit: 'QWUJWV5S',\n    BATVaultWithdraw: '9RRSG9IN',\n    BATVaultPayback: '9DA6DXTL',\n    BATVaultGenerate: 'DWIZTBPQ',\n    USDCVaultDeposit: 'YQREX5ZA',\n    USDCVaultWithdraw: '5QTQNT62',\n    USDCVaultPayback: 'RCUL7HVD',\n    USDCVaultGenerate: 'XW8MTQ2H',\n    saveDeposit: 'HZP70W8E',\n    saveWithdraw: 'QOFRJW54',\n    openETHVaultDraw: 'H1VSU5CI',\n    openETHVaultLock: 'D4ZV2V4Y',\n    openBATVaultDraw: 'GDPZ3L0Z',\n    openBATVaultLock: '3GOF3WFX',\n    openUSDCVaultDraw: '6IPC7OMM',\n    openUSDCVaultLock: 'ZDFJQEFO'\n  }\n}[env];\n\nexport default function useAnalytics(section, page = null, product = null) {\n  const { url, title } = useCurrentRoute();\n\n  const getPageName = title => {\n    return references.trackingPages[title] || title;\n  };\n\n  // Fathom interprets 'amount' in cents, multiply by 100 to get dollars\n  const trackFathomGoal = goal =>\n    window.fathom('trackGoal', fathomGoals[goal.id], goal.amount * 100 || 0);\n\n  const getProductName = pathname => {\n    return pathname.startsWith(`/${Routes.BORROW}`)\n      ? 'Borrow'\n      : pathname.startsWith(`/${Routes.SAVE}`)\n      ? 'Save'\n      : pathname;\n  };\n\n  const mixpanelOptions = {\n    section,\n    page: page || getPageName(title),\n    product: product || getProductName(url.pathname)\n  };\n\n  const trackBtnClick = (id, additionalProps = {}) => {\n    const { fathom } = additionalProps;\n    if (fathom) {\n      if (Array.isArray(fathom)) fathom.forEach(goal => trackFathomGoal(goal));\n      else trackFathomGoal(fathom);\n      delete additionalProps.fathom;\n    }\n    mixpanel.track('btn-click', { id, ...mixpanelOptions, ...additionalProps });\n  };\n\n  const trackInputChange = (id, additionalProps) => {\n    mixpanel.track('input-change', {\n      id,\n      ...mixpanelOptions,\n      ...additionalProps\n    });\n  };\n\n  return { trackBtnClick, trackInputChange };\n}\n"]},"metadata":{},"sourceType":"module"}