{"ast":null,"code":"import _slicedToArray from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { createContext, useReducer, useRef, useEffect } from 'react';\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\n\nfunction resolveModalTypeToComponent(modals, type) {\n  if (!modals || !type || !modals[type]) return null;\n  return modals[type];\n}\n\nvar initialState = {\n  modalType: '',\n  modalProps: {},\n  modalTemplate: ''\n};\n\nvar reducer = function reducer(state, _ref) {\n  var type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case 'show':\n      return _objectSpread({}, state, {}, payload);\n\n    case 'reset':\n      return _objectSpread({}, initialState);\n\n    default:\n      return;\n  }\n};\n\nvar ModalStateContext = createContext(initialState);\n\nfunction resolveModalTemplateToComponent(templates, template) {\n  return templates[template] || templates.default;\n}\n\nfunction ModalProvider(_ref2) {\n  var children = _ref2.children,\n      modals = _ref2.modals,\n      templates = _ref2.templates;\n  var ref = useRef();\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      modalType = _useReducer2$.modalType,\n      modalTemplate = _useReducer2$.modalTemplate,\n      modalProps = _useReducer2$.modalProps,\n      dispatch = _useReducer2[1];\n\n  var shouldShow = !!modalType;\n\n  var reset = function reset() {\n    if (ref && ref.current) enableBodyScroll(ref.current);\n    dispatch({\n      type: 'reset'\n    });\n  };\n\n  var show = function show(_ref3) {\n    var modalType = _ref3.modalType,\n        modalProps = _ref3.modalProps,\n        modalTemplate = _ref3.modalTemplate;\n    if (ref && ref.current) disableBodyScroll(ref.current);\n    dispatch({\n      type: 'show',\n      payload: {\n        modalType: modalType,\n        modalProps: modalProps,\n        modalTemplate: modalTemplate\n      }\n    });\n  };\n\n  useEffect(function () {\n    return function () {\n      return clearAllBodyScrollLocks();\n    };\n  }, []);\n  var ModalTemplateComponent = resolveModalTemplateToComponent(templates, modalTemplate);\n  return /*#__PURE__*/React.createElement(ModalStateContext.Provider, {\n    value: {\n      show: show,\n      reset: reset,\n      showing: shouldShow\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ModalTemplateComponent, {\n    ref: ref,\n    show: shouldShow,\n    onClose: reset,\n    modalProps: modalProps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, resolveModalTypeToComponent(modals, modalType)), children);\n}\n\n__signature__(ModalProvider, \"useRef{ref}\\nuseReducer{[{ modalType, modalTemplate, modalProps }, dispatch](initialState)}\\nuseEffect{}\");\n\nexport { ModalStateContext, ModalProvider };\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(resolveModalTypeToComponent, \"resolveModalTypeToComponent\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\");\n  reactHotLoader.register(initialState, \"initialState\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\");\n  reactHotLoader.register(reducer, \"reducer\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\");\n  reactHotLoader.register(ModalStateContext, \"ModalStateContext\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\");\n  reactHotLoader.register(resolveModalTemplateToComponent, \"resolveModalTemplateToComponent\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\");\n  reactHotLoader.register(ModalProvider, \"ModalProvider\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/providers/ModalProvider.js"],"names":["React","createContext","useReducer","useRef","useEffect","disableBodyScroll","enableBodyScroll","clearAllBodyScrollLocks","resolveModalTypeToComponent","modals","type","initialState","modalType","modalProps","modalTemplate","reducer","state","payload","ModalStateContext","resolveModalTemplateToComponent","templates","template","default","ModalProvider","children","ref","dispatch","shouldShow","reset","current","show","ModalTemplateComponent","showing"],"mappings":"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","sourcesContent":["import React, { createContext, useReducer, useRef, useEffect } from 'react';\nimport {\n  disableBodyScroll,\n  enableBodyScroll,\n  clearAllBodyScrollLocks\n} from 'body-scroll-lock';\n\nfunction resolveModalTypeToComponent(modals, type) {\n  if (!modals || !type || !modals[type]) return null;\n\n  return modals[type];\n}\n\nconst initialState = {\n  modalType: '',\n  modalProps: {},\n  modalTemplate: ''\n};\n\nconst reducer = (state, { type, payload }) => {\n  switch (type) {\n    case 'show':\n      return { ...state, ...payload };\n    case 'reset':\n      return { ...initialState };\n    default:\n      return;\n  }\n};\n\nconst ModalStateContext = createContext(initialState);\n\nfunction resolveModalTemplateToComponent(templates, template) {\n  return templates[template] || templates.default;\n}\n\nfunction ModalProvider({ children, modals, templates }) {\n  const ref = useRef();\n  const [{ modalType, modalTemplate, modalProps }, dispatch] = useReducer(\n    reducer,\n    initialState\n  );\n\n  const shouldShow = !!modalType;\n\n  const reset = () => {\n    if (ref && ref.current) enableBodyScroll(ref.current);\n    dispatch({ type: 'reset' });\n  };\n\n  const show = ({ modalType, modalProps, modalTemplate }) => {\n    if (ref && ref.current) disableBodyScroll(ref.current);\n    dispatch({\n      type: 'show',\n      payload: { modalType, modalProps, modalTemplate }\n    });\n  };\n\n  useEffect(() => {\n    return () => clearAllBodyScrollLocks();\n  }, []);\n\n  const ModalTemplateComponent = resolveModalTemplateToComponent(\n    templates,\n    modalTemplate\n  );\n\n  return (\n    <ModalStateContext.Provider value={{ show, reset, showing: shouldShow }}>\n      <ModalTemplateComponent\n        ref={ref}\n        show={shouldShow}\n        onClose={reset}\n        modalProps={modalProps}\n      >\n        {resolveModalTypeToComponent(modals, modalType)}\n      </ModalTemplateComponent>\n      {children}\n    </ModalStateContext.Provider>\n  );\n}\n\nexport { ModalStateContext, ModalProvider };\n"]},"metadata":{},"sourceType":"module"}