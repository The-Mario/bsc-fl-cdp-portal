{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/CDPCreateScreens/CDPCreateSetAllowance.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React from 'react';\nimport { Box, Text } from '@makerdao/ui-components-core';\nimport ScreenFooter from '../ScreenFooter';\nimport useProxy from 'hooks/useProxy';\nimport { useWeb3BlockHeight } from 'hooks/useBlockHeight';\nimport useTokenAllowance from 'hooks/useTokenAllowance';\nimport useLanguage from 'hooks/useLanguage';\nimport useAnalytics from 'hooks/useAnalytics';\nimport ProxyAllowanceCheck from '../ProxyAllowanceCheck';\nimport { getColor } from 'styles/theme';\n\nvar CDPCreateSetAllowance = function CDPCreateSetAllowance(_ref) {\n  var selectedIlk = _ref.selectedIlk,\n      isFirstVault = _ref.isFirstVault,\n      dispatch = _ref.dispatch;\n\n  var _useAnalytics = useAnalytics('ProxyDeploy', 'VaultCreate'),\n      trackBtnClick = _useAnalytics.trackBtnClick;\n\n  var _useLanguage = useLanguage(),\n      lang = _useLanguage.lang;\n\n  var blockHeight = useWeb3BlockHeight(0);\n\n  var _useProxy = useProxy(),\n      proxyAddress = _useProxy.proxyAddress,\n      setupProxy = _useProxy.setupProxy,\n      proxyLoading = _useProxy.proxyLoading,\n      startingBlockHeight = _useProxy.startingBlockHeight,\n      proxyDeployed = _useProxy.proxyDeployed,\n      proxyErrors = _useProxy.proxyErrors,\n      hasProxy = _useProxy.hasProxy;\n\n  var _useTokenAllowance = useTokenAllowance(selectedIlk.gem),\n      hasAllowance = _useTokenAllowance.hasAllowance,\n      setAllowance = _useTokenAllowance.setAllowance,\n      isSettingAllowance = _useTokenAllowance.allowanceLoading;\n\n  var labels = {\n    setup_text: lang.cdp_create.setup_proxy_proxy_text,\n    setup_header: lang.cdp_create.setup_vault,\n    allowance_text: lang.formatString(lang.cdp_create.setup_proxy_allowance_text, selectedIlk.gem),\n    confirmations_text: lang.formatString(lang.cdp_create.waiting_for_comfirmations, startingBlockHeight === 0 ? 0 : blockHeight - startingBlockHeight > 10 ? 10 : blockHeight - startingBlockHeight, 10)\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    maxWidth: \"71.8rem\",\n    style: {\n      textAlign: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    style: {\n      fontSize: '22px',\n      color: getColor('whiteText'),\n      textAlign: 'center',\n      lineHeight: '3.5'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, lang.cdp_create.setup_proxy_title), /*#__PURE__*/React.createElement(ProxyAllowanceCheck, {\n    style: {\n      background: getColor('cardBg'),\n      border: '1px solid #323B4F',\n      borderRadius: '20px',\n      padding: '20px 0px',\n      textAlign: 'center'\n    },\n    proxyAddress: proxyAddress,\n    deployProxy: setupProxy,\n    labels: labels,\n    proxyLoading: proxyLoading,\n    proxyDeployed: proxyDeployed,\n    hasProxy: hasProxy,\n    proxyErrors: proxyErrors,\n    setAllowance: setAllowance,\n    hasAllowance: hasAllowance,\n    isSettingAllowance: isSettingAllowance,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ScreenFooter, {\n    onNext: function onNext() {\n      trackBtnClick('Next', {\n        isFirstVault: isFirstVault\n      });\n      dispatch({\n        type: 'increment-step'\n      });\n    },\n    onBack: function onBack() {\n      return dispatch({\n        type: 'decrement-step'\n      });\n    },\n    canGoBack: !proxyLoading,\n    canProgress: hasProxy && hasAllowance,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }));\n};\n\n__signature__(CDPCreateSetAllowance, \"useAnalytics{{ trackBtnClick }}\\nuseLanguage{{ lang }}\\nuseWeb3BlockHeight{blockHeight}\\nuseProxy{{\\n    proxyAddress,\\n    setupProxy,\\n    proxyLoading,\\n    startingBlockHeight,\\n    proxyDeployed,\\n    proxyErrors,\\n    hasProxy\\n  }}\\nuseTokenAllowance{{\\n    hasAllowance,\\n    setAllowance,\\n    allowanceLoading: isSettingAllowance\\n  }}\", function () {\n  return [useAnalytics, useLanguage, useWeb3BlockHeight, useProxy, useTokenAllowance];\n});\n\nvar _default = CDPCreateSetAllowance;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(CDPCreateSetAllowance, \"CDPCreateSetAllowance\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/CDPCreateScreens/CDPCreateSetAllowance.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/CDPCreateScreens/CDPCreateSetAllowance.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/CDPCreateScreens/CDPCreateSetAllowance.js"],"names":["React","Box","Text","ScreenFooter","useProxy","useWeb3BlockHeight","useTokenAllowance","useLanguage","useAnalytics","ProxyAllowanceCheck","getColor","CDPCreateSetAllowance","selectedIlk","isFirstVault","dispatch","trackBtnClick","lang","blockHeight","proxyAddress","setupProxy","proxyLoading","startingBlockHeight","proxyDeployed","proxyErrors","hasProxy","gem","hasAllowance","setAllowance","isSettingAllowance","allowanceLoading","labels","setup_text","cdp_create","setup_proxy_proxy_text","setup_header","setup_vault","allowance_text","formatString","setup_proxy_allowance_text","confirmations_text","waiting_for_comfirmations","textAlign","fontSize","color","lineHeight","setup_proxy_title","background","border","borderRadius","padding","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box, Text } from '@makerdao/ui-components-core';\nimport ScreenFooter from '../ScreenFooter';\nimport useProxy from 'hooks/useProxy';\nimport { useWeb3BlockHeight } from 'hooks/useBlockHeight';\nimport useTokenAllowance from 'hooks/useTokenAllowance';\nimport useLanguage from 'hooks/useLanguage';\nimport useAnalytics from 'hooks/useAnalytics';\nimport ProxyAllowanceCheck from '../ProxyAllowanceCheck';\nimport { getColor } from 'styles/theme';\n\nconst CDPCreateSetAllowance = ({ selectedIlk, isFirstVault, dispatch }) => {\n  const { trackBtnClick } = useAnalytics('ProxyDeploy', 'VaultCreate');\n  const { lang } = useLanguage();\n  const blockHeight = useWeb3BlockHeight(0);\n\n  const {\n    proxyAddress,\n    setupProxy,\n    proxyLoading,\n    startingBlockHeight,\n    proxyDeployed,\n    proxyErrors,\n    hasProxy\n  } = useProxy();\n\n  const {\n    hasAllowance,\n    setAllowance,\n    allowanceLoading: isSettingAllowance\n  } = useTokenAllowance(selectedIlk.gem);\n\n  const labels = {\n    setup_text: lang.cdp_create.setup_proxy_proxy_text,\n    setup_header: lang.cdp_create.setup_vault,\n    allowance_text: lang.formatString(\n      lang.cdp_create.setup_proxy_allowance_text,\n      selectedIlk.gem\n    ),\n    confirmations_text: lang.formatString(\n      lang.cdp_create.waiting_for_comfirmations,\n      startingBlockHeight === 0\n        ? 0\n        : blockHeight - startingBlockHeight > 10\n        ? 10\n        : blockHeight - startingBlockHeight,\n      10\n    )\n  };\n\n  return (\n    <Box\n      maxWidth=\"71.8rem\"\n      style={{\n        textAlign: 'center'\n      }}\n    >\n      <Text\n        style={{\n          fontSize: '22px',\n          color: getColor('whiteText'),\n          textAlign: 'center',\n          lineHeight: '3.5'\n        }}\n      >\n        {lang.cdp_create.setup_proxy_title}\n      </Text>\n      <ProxyAllowanceCheck\n        style={{\n          background: getColor('cardBg'),\n          border: '1px solid #323B4F',\n          borderRadius: '20px',\n          padding: '20px 0px',\n          textAlign: 'center'\n        }}\n        proxyAddress={proxyAddress}\n        deployProxy={setupProxy}\n        labels={labels}\n        proxyLoading={proxyLoading}\n        proxyDeployed={proxyDeployed}\n        hasProxy={hasProxy}\n        proxyErrors={proxyErrors}\n        setAllowance={setAllowance}\n        hasAllowance={hasAllowance}\n        isSettingAllowance={isSettingAllowance}\n      />\n      <ScreenFooter\n        onNext={() => {\n          trackBtnClick('Next', { isFirstVault });\n          dispatch({ type: 'increment-step' });\n        }}\n        onBack={() => dispatch({ type: 'decrement-step' })}\n        canGoBack={!proxyLoading}\n        canProgress={hasProxy && hasAllowance}\n      />\n    </Box>\n  );\n};\n\nexport default CDPCreateSetAllowance;\n"]},"metadata":{},"sourceType":"module"}