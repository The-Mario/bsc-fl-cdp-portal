{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDepositScreens/DSRDepositCheckProxy.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React from 'react';\nimport { Box, Text } from '@makerdao/ui-components-core';\nimport ScreenFooter from '../ScreenFooter';\nimport useProxy from 'hooks/useProxy';\nimport ProxyAllowanceCheck from '../ProxyAllowanceCheck';\nimport useTokenAllowance from 'hooks/useTokenAllowance';\nimport { useWeb3BlockHeight } from 'hooks/useBlockHeight';\nimport useLanguage from 'hooks/useLanguage';\nimport { getColor } from '../../styles/theme';\n\nvar DSRDepositCheckProxy = function DSRDepositCheckProxy(_ref) {\n  var dispatch = _ref.dispatch,\n      onClose = _ref.onClose;\n\n  var _useLanguage = useLanguage(),\n      lang = _useLanguage.lang;\n\n  var blockHeight = useWeb3BlockHeight(0);\n\n  var _useProxy = useProxy(),\n      proxyLoading = _useProxy.proxyLoading,\n      hasProxy = _useProxy.hasProxy,\n      proxyAddress = _useProxy.proxyAddress,\n      proxyDeployed = _useProxy.proxyDeployed,\n      setupProxy = _useProxy.setupProxy,\n      startingBlockHeight = _useProxy.startingBlockHeight,\n      proxyErrors = _useProxy.proxyErrors;\n\n  var _useTokenAllowance = useTokenAllowance('USDFL'),\n      hasAllowance = _useTokenAllowance.hasAllowance,\n      setAllowance = _useTokenAllowance.setAllowance,\n      isSettingAllowance = _useTokenAllowance.allowanceLoading;\n\n  var labels = {\n    setup_text: lang.dsr_deposit.setup_proxy_text,\n    setup_header: lang.dsr_deposit.setup_header,\n    allowance_text: lang.formatString(lang.cdp_create.setup_proxy_allowance_text, 'USDFL'),\n    confirmations_text: lang.formatString(lang.cdp_create.waiting_for_comfirmations, startingBlockHeight === 0 ? 0 : blockHeight - startingBlockHeight > 10 ? 10 : blockHeight - startingBlockHeight, 10)\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    maxWidth: \"71.8rem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    style: {\n      fontSize: '22px',\n      color: getColor('whiteText'),\n      display: 'flex',\n      justifyContent: 'center',\n      paddingBottom: '30px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, lang.dsr_deposit.open_vault), /*#__PURE__*/React.createElement(ProxyAllowanceCheck, {\n    proxyAddress: proxyAddress,\n    deployProxy: setupProxy,\n    labels: labels,\n    proxyLoading: proxyLoading,\n    proxyDeployed: proxyDeployed,\n    proxyErrors: proxyErrors,\n    hasProxy: hasProxy,\n    setAllowance: setAllowance,\n    hasAllowance: hasAllowance,\n    isSettingAllowance: isSettingAllowance,\n    style: {\n      color: getColor('greyText'),\n      backgroundColor: getColor('cardBg'),\n      borderColor: getColor('cardBg'),\n      borderRadius: '13px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ScreenFooter, {\n    onNext: function onNext() {\n      return dispatch({\n        type: 'increment-step'\n      });\n    },\n    onBack: onClose,\n    canGoBack: !proxyLoading,\n    canProgress: hasProxy && hasAllowance,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }));\n};\n\n__signature__(DSRDepositCheckProxy, \"useLanguage{{ lang }}\\nuseWeb3BlockHeight{blockHeight}\\nuseProxy{{\\n    proxyLoading,\\n    hasProxy,\\n    proxyAddress,\\n    proxyDeployed,\\n    setupProxy,\\n    startingBlockHeight,\\n    proxyErrors\\n  }}\\nuseTokenAllowance{{\\n    hasAllowance,\\n    setAllowance,\\n    allowanceLoading: isSettingAllowance\\n  }}\", function () {\n  return [useLanguage, useWeb3BlockHeight, useProxy, useTokenAllowance];\n});\n\nvar _default = DSRDepositCheckProxy;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(DSRDepositCheckProxy, \"DSRDepositCheckProxy\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDepositScreens/DSRDepositCheckProxy.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDepositScreens/DSRDepositCheckProxy.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDepositScreens/DSRDepositCheckProxy.js"],"names":["React","Box","Text","ScreenFooter","useProxy","ProxyAllowanceCheck","useTokenAllowance","useWeb3BlockHeight","useLanguage","getColor","DSRDepositCheckProxy","dispatch","onClose","lang","blockHeight","proxyLoading","hasProxy","proxyAddress","proxyDeployed","setupProxy","startingBlockHeight","proxyErrors","hasAllowance","setAllowance","isSettingAllowance","allowanceLoading","labels","setup_text","dsr_deposit","setup_proxy_text","setup_header","allowance_text","formatString","cdp_create","setup_proxy_allowance_text","confirmations_text","waiting_for_comfirmations","fontSize","color","display","justifyContent","paddingBottom","open_vault","backgroundColor","borderColor","borderRadius","type"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Box, Text } from '@makerdao/ui-components-core';\nimport ScreenFooter from '../ScreenFooter';\nimport useProxy from 'hooks/useProxy';\nimport ProxyAllowanceCheck from '../ProxyAllowanceCheck';\nimport useTokenAllowance from 'hooks/useTokenAllowance';\nimport { useWeb3BlockHeight } from 'hooks/useBlockHeight';\nimport useLanguage from 'hooks/useLanguage';\nimport { getColor } from '../../styles/theme';\n\nconst DSRDepositCheckProxy = ({ dispatch, onClose }) => {\n  const { lang } = useLanguage();\n  const blockHeight = useWeb3BlockHeight(0);\n\n  const {\n    proxyLoading,\n    hasProxy,\n    proxyAddress,\n    proxyDeployed,\n    setupProxy,\n    startingBlockHeight,\n    proxyErrors\n  } = useProxy();\n\n  const {\n    hasAllowance,\n    setAllowance,\n    allowanceLoading: isSettingAllowance\n  } = useTokenAllowance('USDFL');\n\n  const labels = {\n    setup_text: lang.dsr_deposit.setup_proxy_text,\n    setup_header: lang.dsr_deposit.setup_header,\n    allowance_text: lang.formatString(\n      lang.cdp_create.setup_proxy_allowance_text,\n      'USDFL'\n    ),\n    confirmations_text: lang.formatString(\n      lang.cdp_create.waiting_for_comfirmations,\n      startingBlockHeight === 0\n        ? 0\n        : blockHeight - startingBlockHeight > 10\n        ? 10\n        : blockHeight - startingBlockHeight,\n      10\n    )\n  };\n\n  return (\n    <Box maxWidth=\"71.8rem\">\n      <Text\n        style={{\n          fontSize: '22px',\n          color: getColor('whiteText'),\n          display: 'flex',\n          justifyContent: 'center',\n          paddingBottom: '30px'\n        }}\n      >\n        {lang.dsr_deposit.open_vault}\n      </Text>\n      <ProxyAllowanceCheck\n        proxyAddress={proxyAddress}\n        deployProxy={setupProxy}\n        labels={labels}\n        proxyLoading={proxyLoading}\n        proxyDeployed={proxyDeployed}\n        proxyErrors={proxyErrors}\n        hasProxy={hasProxy}\n        setAllowance={setAllowance}\n        hasAllowance={hasAllowance}\n        isSettingAllowance={isSettingAllowance}\n        style={{\n          color: getColor('greyText'),\n          backgroundColor: getColor('cardBg'),\n          borderColor: getColor('cardBg'),\n          borderRadius: '13px'\n        }}\n      />\n      <ScreenFooter\n        onNext={() => dispatch({ type: 'increment-step' })}\n        onBack={onClose}\n        canGoBack={!proxyLoading}\n        canProgress={hasProxy && hasAllowance}\n      />\n    </Box>\n  );\n};\n\nexport default DSRDepositCheckProxy;\n"]},"metadata":{},"sourceType":"module"}