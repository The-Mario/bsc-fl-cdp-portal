{"ast":null,"code":"import _regeneratorRuntime from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { useState, useCallback } from 'react';\nexport default function useActionState(action) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      success = _useState6[0],\n      setSuccess = _useState6[1];\n\n  var onAction = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setError('');\n            setSuccess(false);\n            setIsLoading(true);\n            _context.prev = 3;\n            _context.next = 6;\n            return action();\n\n          case 6:\n            res = _context.sent;\n            setIsLoading(false);\n            setSuccess(true);\n            setError(null);\n            return _context.abrupt(\"return\", res);\n\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](3);\n            setIsLoading(false);\n            setError(_context.t0);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 13]]);\n  })), [action, setIsLoading, setError]);\n  var reset = useCallback(function () {\n    setError(null);\n    setSuccess(false);\n  }, [setError, setSuccess]);\n  return [onAction, isLoading, success, error, reset];\n}\n\n__signature__(useActionState, \"useState{[isLoading, setIsLoading](false)}\\nuseState{[error, setError](null)}\\nuseState{[success, setSuccess](false)}\\nuseCallback{onAction}\\nuseCallback{reset}\");\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(useActionState, \"useActionState\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useActionState.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useActionState.js"],"names":["useState","useCallback","useActionState","action","isLoading","setIsLoading","error","setError","success","setSuccess","onAction","res","reset"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AAEA,eAAe,SAASC,cAAT,CAAwBC,MAAxB,EAAgC;AAAA,kBACXH,QAAQ,CAAC,KAAD,CADG;AAAA;AAAA,MACtCI,SADsC;AAAA,MAC3BC,YAD2B;;AAAA,mBAEnBL,QAAQ,CAAC,IAAD,CAFW;AAAA;AAAA,MAEtCM,KAFsC;AAAA,MAE/BC,QAF+B;;AAAA,mBAGfP,QAAQ,CAAC,KAAD,CAHO;AAAA;AAAA,MAGtCQ,OAHsC;AAAA,MAG7BC,UAH6B;;AAI7C,MAAMC,QAAQ,GAAGT,WAAW,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BM,YAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,YAAAA,UAAU,CAAC,KAAD,CAAV;AACAJ,YAAAA,YAAY,CAAC,IAAD,CAAZ;AAH2B;AAAA;AAAA,mBAKPF,MAAM,EALC;;AAAA;AAKnBQ,YAAAA,GALmB;AAMzBN,YAAAA,YAAY,CAAC,KAAD,CAAZ;AACAI,YAAAA,UAAU,CAAC,IAAD,CAAV;AACAF,YAAAA,QAAQ,CAAC,IAAD,CAAR;AARyB,6CASlBI,GATkB;;AAAA;AAAA;AAAA;AAWzBN,YAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,YAAAA,QAAQ,aAAR;;AAZyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAczB,CAACJ,MAAD,EAASE,YAAT,EAAuBE,QAAvB,CAdyB,CAA5B;AAgBA,MAAMK,KAAK,GAAGX,WAAW,CAAC,YAAM;AAC9BM,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHwB,EAGtB,CAACF,QAAD,EAAWE,UAAX,CAHsB,CAAzB;AAIA,SAAO,CAACC,QAAD,EAAWN,SAAX,EAAsBI,OAAtB,EAA+BF,KAA/B,EAAsCM,KAAtC,CAAP;AACD;;cAzBuBV,c;;;;;;;;;;;0BAAAA,c","sourcesContent":["import { useState, useCallback } from 'react';\n\nexport default function useActionState(action) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const onAction = useCallback(async () => {\n    setError('');\n    setSuccess(false);\n    setIsLoading(true);\n    try {\n      const res = await action();\n      setIsLoading(false);\n      setSuccess(true);\n      setError(null);\n      return res;\n    } catch (err) {\n      setIsLoading(false);\n      setError(err);\n    }\n  }, [action, setIsLoading, setError]);\n\n  const reset = useCallback(() => {\n    setError(null);\n    setSuccess(false);\n  }, [setError, setSuccess]);\n  return [onAction, isLoading, success, error, reset];\n}\n"]},"metadata":{},"sourceType":"module"}