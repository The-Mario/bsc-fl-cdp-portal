{"ast":null,"code":"import _slicedToArray from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDeposit.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useReducer, useEffect, useMemo } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport StepperUI from 'components/StepperUI';\nimport StepperHeader from 'components/StepperHeader';\nimport { DSRDepositCheckProxy, DSRDepositCreate, DSRDepositConfirm } from 'components/DSRDepositScreens';\nimport useLanguage from 'hooks/useLanguage';\nimport { TxLifecycle } from 'utils/constants';\nimport useProxy from 'hooks/useProxy';\nvar initialState = {\n  step: 0,\n  daiToJoin: '',\n  depositAmount: '',\n  txState: ''\n};\n\nfunction reducer(state, action) {\n  var type = action.type,\n      payload = action.payload;\n\n  switch (type) {\n    case 'increment-step':\n      return _objectSpread({}, state, {\n        step: state.step + (payload && payload.by || 1)\n      });\n\n    case 'decrement-step':\n      return _objectSpread({}, state, {\n        step: state.step - (payload && payload.by || 1)\n      });\n\n    case 'form/set-deposit-amount':\n      return _objectSpread({}, state, {\n        depositAmount: payload.depositAmount\n      });\n\n    case 'transaction-confirmed':\n      return _objectSpread({}, state, {\n        txState: TxLifecycle.CONFIRMED\n      });\n\n    case 'reset':\n      return _objectSpread({}, initialState);\n\n    default:\n      return state;\n  }\n}\n\nfunction DSRDeposit(_ref) {\n  var _this = this;\n\n  var onClose = _ref.onClose,\n      hideOnboarding = _ref.hideOnboarding;\n\n  var _useLanguage = useLanguage(),\n      lang = _useLanguage.lang;\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      step = _useReducer2$.step,\n      depositAmount = _useReducer2$.depositAmount,\n      txState = _useReducer2$.txState,\n      dispatch = _useReducer2[1];\n\n  var screens = useMemo(function () {\n    return [[lang.dsr_deposit.screen_titles.open_vault, function (props) {\n      return /*#__PURE__*/React.createElement(DSRDepositCheckProxy, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 18\n        }\n      }));\n    }], [lang.dsr_deposit.screen_titles.deposit_dai, function (props) {\n      return /*#__PURE__*/React.createElement(DSRDepositCreate, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 18\n        }\n      }));\n    }], [lang.dsr_deposit.screen_titles.confirmation, function (props) {\n      return /*#__PURE__*/React.createElement(DSRDepositConfirm, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 18\n        }\n      }));\n    }]];\n  }, [lang]);\n\n  var _useProxy = useProxy(),\n      proxyAddress = _useProxy.proxyAddress;\n\n  useEffect(function () {\n    if (proxyAddress) {\n      hideOnboarding();\n    }\n  }, [hideOnboarding, proxyAddress]);\n  var screenProps = {\n    proxyAddress: proxyAddress,\n    depositAmount: depositAmount,\n    dispatch: dispatch,\n    onClose: onClose,\n    txState: txState\n  };\n  return /*#__PURE__*/React.createElement(StepperUI, {\n    step: step,\n    steps: screens.map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n          title = _ref3[0];\n\n      return title;\n    }),\n    renderStepperHeader: function renderStepperHeader() {\n      return /*#__PURE__*/React.createElement(StepperHeader, {\n        onClose: onClose,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, screens.map(function (_ref4, screenIndex) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        getComponent = _ref5[1];\n\n    return getComponent(_objectSpread({}, screenProps, {\n      screenIndex: screenIndex,\n      key: screenIndex\n    }));\n  }));\n}\n\n__signature__(DSRDeposit, \"useLanguage{{ lang }}\\nuseReducer{[{ step, depositAmount, txState }, dispatch](initialState)}\\nuseMemo{screens}\\nuseProxy{{ proxyAddress }}\\nuseEffect{}\", function () {\n  return [useLanguage, useProxy];\n});\n\nvar _default = hot(DSRDeposit);\n\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(initialState, \"initialState\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDeposit.js\");\n  reactHotLoader.register(reducer, \"reducer\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDeposit.js\");\n  reactHotLoader.register(DSRDeposit, \"DSRDeposit\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDeposit.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDeposit.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/DSRDeposit.js"],"names":["React","useReducer","useEffect","useMemo","hot","StepperUI","StepperHeader","DSRDepositCheckProxy","DSRDepositCreate","DSRDepositConfirm","useLanguage","TxLifecycle","useProxy","initialState","step","daiToJoin","depositAmount","txState","reducer","state","action","type","payload","by","CONFIRMED","DSRDeposit","onClose","hideOnboarding","lang","dispatch","screens","dsr_deposit","screen_titles","open_vault","props","deposit_dai","confirmation","proxyAddress","screenProps","map","title","screenIndex","getComponent","key"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect, useMemo } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport StepperUI from 'components/StepperUI';\nimport StepperHeader from 'components/StepperHeader';\nimport {\n  DSRDepositCheckProxy,\n  DSRDepositCreate,\n  DSRDepositConfirm\n} from 'components/DSRDepositScreens';\nimport useLanguage from 'hooks/useLanguage';\nimport { TxLifecycle } from 'utils/constants';\nimport useProxy from 'hooks/useProxy';\n\nconst initialState = {\n  step: 0,\n  daiToJoin: '',\n  depositAmount: '',\n  txState: ''\n};\n\nfunction reducer(state, action) {\n  const { type, payload } = action;\n  switch (type) {\n    case 'increment-step':\n      return {\n        ...state,\n        step: state.step + ((payload && payload.by) || 1)\n      };\n    case 'decrement-step':\n      return {\n        ...state,\n        step: state.step - ((payload && payload.by) || 1)\n      };\n    case 'form/set-deposit-amount':\n      return { ...state, depositAmount: payload.depositAmount };\n    case 'transaction-confirmed':\n      return { ...state, txState: TxLifecycle.CONFIRMED };\n    case 'reset':\n      return { ...initialState };\n    default:\n      return state;\n  }\n}\n\nfunction DSRDeposit({ onClose, hideOnboarding }) {\n  const { lang } = useLanguage();\n  const [{ step, depositAmount, txState }, dispatch] = useReducer(\n    reducer,\n    initialState\n  );\n\n  const screens = useMemo(\n    () => [\n      [\n        lang.dsr_deposit.screen_titles.open_vault,\n        props => <DSRDepositCheckProxy {...props} />\n      ],\n      [\n        lang.dsr_deposit.screen_titles.deposit_dai,\n        props => <DSRDepositCreate {...props} />\n      ],\n      [\n        lang.dsr_deposit.screen_titles.confirmation,\n        props => <DSRDepositConfirm {...props} />\n      ]\n    ],\n    [lang]\n  );\n  const { proxyAddress } = useProxy();\n\n  useEffect(() => {\n    if (proxyAddress) {\n      hideOnboarding();\n    }\n  }, [hideOnboarding, proxyAddress]);\n\n  const screenProps = {\n    proxyAddress,\n    depositAmount,\n    dispatch,\n    onClose,\n    txState\n  };\n\n  return (\n    <StepperUI\n      step={step}\n      steps={screens.map(([title]) => title)}\n      renderStepperHeader={() => <StepperHeader onClose={onClose} />}\n    >\n      {screens.map(([, getComponent], screenIndex) =>\n        getComponent({ ...screenProps, screenIndex, key: screenIndex })\n      )}\n    </StepperUI>\n  );\n}\n\nexport default hot(DSRDeposit);\n"]},"metadata":{},"sourceType":"module"}