{"ast":null,"code":"import _regeneratorRuntime from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/SiteVersion.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Box, Link, Text } from '@makerdao/ui-components-core';\nimport 'whatwg-fetch';\nimport styled from 'styled-components';\nvar VersionText = styled(Text).withConfig({\n  displayName: \"SiteVersion__VersionText\",\n  componentId: \"sc-8l4p4x-0\"\n})([\"font-size:0.75em;color:lightgray;\"]);\nvar VersionLink = styled(Link).withConfig({\n  displayName: \"SiteVersion__VersionLink\",\n  componentId: \"sc-8l4p4x-1\"\n})([\"&:hover{\", \"{color:gray;}\", \"{border:1px solid gray;border-radius:3px;}}\"], VersionText, Grid);\n\nvar SiteVersion = function SiteVersion() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      commitMsg = _useState2[0],\n      setCommitMsg = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      commitDate = _useState4[0],\n      setCommitDate = _useState4[1];\n\n  var _require = require('../static/version.json'),\n      COMMIT_SHA = _require.COMMIT_SHA,\n      COMMIT_BRANCH = _require.COMMIT_BRANCH;\n\n  var apiUrl = \"https://api.github.com/repos/makerdao/mcd-cdp-portal/git/commits/\".concat(COMMIT_SHA);\n  useEffect(function () {\n    var fetchCommitMsg = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var rawJson, commitObj, message, date, d;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (COMMIT_SHA) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", null);\n\n              case 2:\n                _context.next = 4;\n                return fetch(apiUrl);\n\n              case 4:\n                rawJson = _context.sent;\n                _context.next = 7;\n                return rawJson.json();\n\n              case 7:\n                commitObj = _context.sent;\n                message = commitObj.message, date = commitObj.committer.date;\n                d = new Date(date);\n                setCommitDate(d.toLocaleString());\n                setCommitMsg(message);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function fetchCommitMsg() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchCommitMsg();\n  }, [apiUrl, COMMIT_SHA]);\n  if (!COMMIT_SHA) return null;\n  var commitUrl = \"https://github.com/makerdao/mcd-cdp-portal/commit/\".concat(COMMIT_SHA);\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, commitMsg !== '' ? /*#__PURE__*/React.createElement(VersionLink, {\n    href: commitUrl,\n    target: \"_blank\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    p: \"s\",\n    gridTemplateColumns: \"1fr 2fr\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Commit:\"), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, commitMsg), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Hash:\"), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, COMMIT_SHA.substring(0, 8)), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Branch:\"), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, COMMIT_BRANCH), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Uploaded:\"), /*#__PURE__*/React.createElement(VersionText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, commitDate))) : null);\n};\n\n__signature__(SiteVersion, \"useState{[commitMsg, setCommitMsg]('')}\\nuseState{[commitDate, setCommitDate]('')}\\nuseEffect{}\");\n\nvar _default = SiteVersion;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(VersionText, \"VersionText\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/SiteVersion.js\");\n  reactHotLoader.register(VersionLink, \"VersionLink\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/SiteVersion.js\");\n  reactHotLoader.register(SiteVersion, \"SiteVersion\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/SiteVersion.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/SiteVersion.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/SiteVersion.js"],"names":["React","useState","useEffect","Grid","Box","Link","Text","styled","VersionText","VersionLink","SiteVersion","commitMsg","setCommitMsg","commitDate","setCommitDate","require","COMMIT_SHA","COMMIT_BRANCH","apiUrl","fetchCommitMsg","fetch","rawJson","json","commitObj","message","date","committer","d","Date","toLocaleString","commitUrl","substring"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,IAApB,EAA0BC,IAA1B,QAAsC,8BAAtC;AACA,OAAO,cAAP;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,IAAMC,WAAW,GAAGD,MAAM,CAACD,IAAD,CAAT;AAAA;AAAA;AAAA,yCAAjB;AAIA,IAAMG,WAAW,GAAGF,MAAM,CAACF,IAAD,CAAT;AAAA;AAAA;AAAA,iFAEXG,WAFW,EAKXL,IALW,CAAjB;;AAYA,IAAMO,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,kBACUT,QAAQ,CAAC,EAAD,CADlB;AAAA;AAAA,MACjBU,SADiB;AAAA,MACNC,YADM;;AAAA,mBAEYX,QAAQ,CAAC,EAAD,CAFpB;AAAA;AAAA,MAEjBY,UAFiB;AAAA,MAELC,aAFK;;AAAA,iBAGcC,OAAO,CAAC,wBAAD,CAHrB;AAAA,MAGhBC,UAHgB,YAGhBA,UAHgB;AAAA,MAGJC,aAHI,YAGJA,aAHI;;AAKxB,MAAMC,MAAM,8EAAuEF,UAAvE,CAAZ;AAEAd,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMiB,cAAc;AAAA,0EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAChBH,UADgB;AAAA;AAAA;AAAA;;AAAA,iDACG,IADH;;AAAA;AAAA;AAAA,uBAECI,KAAK,CAACF,MAAD,CAFN;;AAAA;AAEfG,gBAAAA,OAFe;AAAA;AAAA,uBAGGA,OAAO,CAACC,IAAR,EAHH;;AAAA;AAGfC,gBAAAA,SAHe;AAKnBC,gBAAAA,OALmB,GAOjBD,SAPiB,CAKnBC,OALmB,EAMNC,IANM,GAOjBF,SAPiB,CAMnBG,SANmB,CAMND,IANM;AAQfE,gBAAAA,CARe,GAQX,IAAIC,IAAJ,CAASH,IAAT,CARW;AASrBX,gBAAAA,aAAa,CAACa,CAAC,CAACE,cAAF,EAAD,CAAb;AACAjB,gBAAAA,YAAY,CAACY,OAAD,CAAZ;;AAVqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAAdL,cAAc;AAAA;AAAA;AAAA,OAApB;;AAYAA,IAAAA,cAAc;AACf,GAdQ,EAcN,CAACD,MAAD,EAASF,UAAT,CAdM,CAAT;AAgBA,MAAI,CAACA,UAAL,EAAiB,OAAO,IAAP;AAEjB,MAAMc,SAAS,+DAAwDd,UAAxD,CAAf;AACA,sBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,SAAS,KAAK,EAAd,gBACC,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAEmB,SAAnB;AAA8B,IAAA,MAAM,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,CAAC,EAAC,GAAR;AAAY,IAAA,mBAAmB,EAAC,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAcnB,SAAd,CAFF,eAIE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,eAKE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAcK,UAAU,CAACe,SAAX,CAAqB,CAArB,EAAwB,CAAxB,CAAd,CALF,eAOE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPF,eAQE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAcd,aAAd,CARF,eAUE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVF,eAWE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAcJ,UAAd,CAXF,CADF,CADD,GAgBG,IAjBN,CADF;AAqBD,CA/CD;;cAAMH,W;;eAiDSA,W;AAAf;;;;;;;;;;0BAjEMF,W;0BAIAC,W;0BAYAC,W","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Grid, Box, Link, Text } from '@makerdao/ui-components-core';\nimport 'whatwg-fetch';\nimport styled from 'styled-components';\n\nconst VersionText = styled(Text)`\n  font-size: 0.75em;\n  color: lightgray;\n`;\nconst VersionLink = styled(Link)`\n  &:hover {\n    ${VersionText} {\n      color: gray;\n    }\n    ${Grid} {\n      border: 1px solid gray;\n      border-radius: 3px;\n    }\n  }\n`;\n\nconst SiteVersion = () => {\n  const [commitMsg, setCommitMsg] = useState('');\n  const [commitDate, setCommitDate] = useState('');\n  const { COMMIT_SHA, COMMIT_BRANCH } = require('../static/version.json');\n\n  const apiUrl = `https://api.github.com/repos/makerdao/mcd-cdp-portal/git/commits/${COMMIT_SHA}`;\n\n  useEffect(() => {\n    const fetchCommitMsg = async () => {\n      if (!COMMIT_SHA) return null;\n      const rawJson = await fetch(apiUrl);\n      const commitObj = await rawJson.json();\n      const {\n        message,\n        committer: { date }\n      } = commitObj;\n      const d = new Date(date);\n      setCommitDate(d.toLocaleString());\n      setCommitMsg(message);\n    };\n    fetchCommitMsg();\n  }, [apiUrl, COMMIT_SHA]);\n\n  if (!COMMIT_SHA) return null;\n\n  const commitUrl = `https://github.com/makerdao/mcd-cdp-portal/commit/${COMMIT_SHA}`;\n  return (\n    <Box>\n      {commitMsg !== '' ? (\n        <VersionLink href={commitUrl} target=\"_blank\">\n          <Grid p=\"s\" gridTemplateColumns=\"1fr 2fr\">\n            <VersionText>Commit:</VersionText>\n            <VersionText>{commitMsg}</VersionText>\n\n            <VersionText>Hash:</VersionText>\n            <VersionText>{COMMIT_SHA.substring(0, 8)}</VersionText>\n\n            <VersionText>Branch:</VersionText>\n            <VersionText>{COMMIT_BRANCH}</VersionText>\n\n            <VersionText>Uploaded:</VersionText>\n            <VersionText>{commitDate}</VersionText>\n          </Grid>\n        </VersionLink>\n      ) : null}\n    </Box>\n  );\n};\n\nexport default SiteVersion;\n"]},"metadata":{},"sourceType":"module"}