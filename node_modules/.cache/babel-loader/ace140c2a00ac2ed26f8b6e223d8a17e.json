{"ast":null,"code":"import _slicedToArray from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/Sidebars/DepositLPReward.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React from 'react';\nimport { Text, Input, Grid, Button } from '@makerdao/ui-components-core';\nimport Info from './shared/Info';\nimport InfoContainer from './shared/InfoContainer';\nimport useMaker from 'hooks/useMaker';\nimport useValidatedInput from 'hooks/useValidatedInput';\nimport useLanguage from 'hooks/useLanguage';\nimport { formatter } from 'utils/ui';\nimport BigNumber from 'bignumber.js';\nimport { getColor } from '../../styles/theme';\nimport { watch } from 'hooks/useObservable';\nimport { Currency } from '@makerdao/currency';\nimport rewardListx2 from '../../references/rewardListX2';\n\nvar DepositLPReward = function DepositLPReward(_ref) {\n  var avail = _ref.avail,\n      availValue = _ref.availValue,\n      name = _ref.name,\n      gem = _ref.gem,\n      hiRisk = _ref.hiRisk,\n      reset = _ref.reset;\n\n  var _useLanguage = useLanguage(),\n      lang = _useLanguage.lang;\n\n  var _useMaker = useMaker(),\n      maker = _useMaker.maker;\n\n  var usdPrice = watch.rewardPairInfoGetPrice(name, hiRisk) || BigNumber(0);\n  console.log('DepositLPReward', usdPrice.toNumber(), avail ? avail.toNumber() : 0, availValue ? availValue.toNumber() : 0, name, gem, hiRisk);\n\n  function convertValueToAmount(value) {\n    var WAD = new BigNumber('1e18');\n    if (value == 0) return BigNumber(0);\n    var r = new BigNumber(value).times(WAD).dividedBy(usdPrice);\n    if (r == undefined) return BigNumber(0);\n    return r;\n  }\n\n  function checkX2(arr, val) {\n    return arr.some(function (arrVall) {\n      return val === arrVall;\n    });\n  }\n\n  var availValueX2 = checkX2(rewardListx2, name) ? availValue / 2 : availValue;\n\n  var _useValidatedInput = useValidatedInput(availValueX2, {\n    maxFloat: availValueX2,\n    minFloat: 0,\n    isFloat: true\n  }, {\n    maxFloat: function maxFloat() {\n      return lang.formatString(lang.action_sidebar.insufficient_balance, name);\n    }\n  }),\n      _useValidatedInput2 = _slicedToArray(_useValidatedInput, 4),\n      value = _useValidatedInput2[0],\n      onAmountChange = _useValidatedInput2[2],\n      amountErrors = _useValidatedInput2[3];\n\n  var valueToDeposit = checkX2(rewardListx2, name) ? value * 2 || BigNumber(0) : value || BigNumber(0);\n  console.log('valueToDeposit', valueToDeposit);\n  var amountToDeposit = convertValueToAmount(valueToDeposit);\n  console.log('amount', amountToDeposit.toNumber());\n  console.log('avail', new Currency(avail).toFixed('wei'));\n  var valid = value && !amountErrors;\n\n  var deposit = function deposit() {\n    if (amountToDeposit.toNumber() > new Currency(avail).toFixed('wei')) {\n      depositAll();\n    } else {\n      var v = amountToDeposit.integerValue(BigNumber.ROUND_DOWN).toFixed();\n      console.log('deposit', name, gem, amountToDeposit.toNumber(), v, hiRisk);\n      maker.service('mcd:rewards').lockPool(v, gem, hiRisk);\n      reset();\n    }\n  };\n\n  var depositAll = function depositAll() {\n    var c = new Currency(avail);\n    var v = c.toFixed('wei');\n    console.log('depositAll', name, gem, avail.toNumber(), v, hiRisk);\n    maker.service('mcd:rewards').lockPool(v, gem, hiRisk);\n    reset();\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    gridRowGap: \"m\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    gridRowGap: \"s\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    style: {\n      fontSize: '20px',\n      color: getColor('whiteText')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, lang.formatString(lang.action_sidebar.deposit_title, name)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    style: {\n      fontSize: '16px',\n      color: getColor('greyText')\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, lang.formatString(lang.action_sidebar.deposit_description, name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input_border\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    style: {\n      color: getColor('whiteText')\n    },\n    name: \"valueToLock\",\n    type: \"number\",\n    min: \"0\",\n    value: value,\n    onChange: onAmountChange,\n    placeholder: \"0.00 USD\",\n    failureMessage: amountErrors,\n    \"data-testid\": \"deposit-input\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    gridTemplateColumns: \"1fr\",\n    gridColumnGap: \"m\",\n    gridRowGap: \"s\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    disabled: !valid,\n    onClick: function onClick() {\n      deposit();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, lang.actions.deposit), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    onClick: function onClick() {\n      depositAll();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }, lang.actions.depositAll), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn\",\n    variant: \"secondary-outline\",\n    onClick: function onClick() {\n      reset();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, lang.cancel)), /*#__PURE__*/React.createElement(InfoContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Info, {\n    title: lang.action_sidebar.current_account_balance,\n    body: \"\".concat(formatter(availValueX2), \" USD\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  })));\n};\n\n__signature__(DepositLPReward, \"useLanguage{{ lang }}\\nuseMaker{{ maker }}\\nuseValidatedInput{[value, , onAmountChange, amountErrors]}\", function () {\n  return [useLanguage, useMaker, useValidatedInput];\n});\n\nvar _default = DepositLPReward;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(DepositLPReward, \"DepositLPReward\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/Sidebars/DepositLPReward.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/Sidebars/DepositLPReward.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/components/Sidebars/DepositLPReward.js"],"names":["React","Text","Input","Grid","Button","Info","InfoContainer","useMaker","useValidatedInput","useLanguage","formatter","BigNumber","getColor","watch","Currency","rewardListx2","DepositLPReward","avail","availValue","name","gem","hiRisk","reset","lang","maker","usdPrice","rewardPairInfoGetPrice","console","log","toNumber","convertValueToAmount","value","WAD","r","times","dividedBy","undefined","checkX2","arr","val","some","arrVall","availValueX2","maxFloat","minFloat","isFloat","formatString","action_sidebar","insufficient_balance","onAmountChange","amountErrors","valueToDeposit","amountToDeposit","toFixed","valid","deposit","depositAll","v","integerValue","ROUND_DOWN","service","lockPool","c","fontSize","color","deposit_title","deposit_description","actions","cancel","current_account_balance"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Text, Input, Grid, Button } from '@makerdao/ui-components-core';\nimport Info from './shared/Info';\nimport InfoContainer from './shared/InfoContainer';\nimport useMaker from 'hooks/useMaker';\nimport useValidatedInput from 'hooks/useValidatedInput';\nimport useLanguage from 'hooks/useLanguage';\nimport { formatter } from 'utils/ui';\nimport BigNumber from 'bignumber.js';\nimport { getColor } from '../../styles/theme';\nimport { watch } from 'hooks/useObservable';\nimport { Currency } from '@makerdao/currency';\nimport rewardListx2 from '../../references/rewardListX2';\n\nconst DepositLPReward = ({ avail, availValue, name, gem, hiRisk, reset }) => {\n  const { lang } = useLanguage();\n  const { maker } = useMaker();\n\n  const usdPrice = watch.rewardPairInfoGetPrice(name, hiRisk) || BigNumber(0);\n\n  console.log(\n    'DepositLPReward',\n    usdPrice.toNumber(),\n    avail ? avail.toNumber() : 0,\n    availValue ? availValue.toNumber() : 0,\n    name,\n    gem,\n    hiRisk\n  );\n\n  function convertValueToAmount(value) {\n    const WAD = new BigNumber('1e18');\n    if (value == 0) return BigNumber(0);\n    const r = new BigNumber(value).times(WAD).dividedBy(usdPrice);\n\n    if (r == undefined) return BigNumber(0);\n    return r;\n  }\n  function checkX2(arr, val) {\n    return arr.some(function (arrVall) {\n      return val === arrVall;\n    });\n  }\n\n  const availValueX2 = checkX2(rewardListx2, name) ? availValue / 2 : availValue;\n\n  const [value, , onAmountChange, amountErrors] = useValidatedInput(\n    availValueX2,\n    {\n      maxFloat: availValueX2,\n      minFloat: 0,\n      isFloat: true\n    },\n    {\n      maxFloat: () =>\n        lang.formatString(lang.action_sidebar.insufficient_balance, name)\n    }\n  );\n\n  const valueToDeposit = checkX2(rewardListx2, name) ? (value * 2 || BigNumber(0)) : (value || BigNumber(0));\n  console.log('valueToDeposit', valueToDeposit);\n  const amountToDeposit = convertValueToAmount(valueToDeposit);\n\n  console.log('amount', amountToDeposit.toNumber());\n  console.log('avail', new Currency(avail).toFixed('wei'));\n\n  const valid = value && !amountErrors;\n\n  const deposit = () => {\n    if (amountToDeposit.toNumber() > new Currency(avail).toFixed('wei')) {\n      depositAll();\n    } else {\n      const v = amountToDeposit.integerValue(BigNumber.ROUND_DOWN).toFixed();\n      console.log('deposit', name, gem, amountToDeposit.toNumber(), v, hiRisk);\n      maker.service('mcd:rewards').lockPool(v, gem, hiRisk);\n      reset();\n    }\n  };\n\n  const depositAll = () => {\n    const c = new Currency(avail);\n    const v = c.toFixed('wei');\n    console.log('depositAll', name, gem, avail.toNumber(), v, hiRisk);\n    maker.service('mcd:rewards').lockPool(v, gem, hiRisk);\n    reset();\n  };\n\n  return (\n    <Grid gridRowGap=\"m\">\n      <Grid gridRowGap=\"s\">\n        <Text style={{ fontSize: '20px', color: getColor('whiteText') }}>\n          {lang.formatString(lang.action_sidebar.deposit_title, name)}\n        </Text>\n        <p>\n          <Text style={{ fontSize: '16px', color: getColor('greyText') }}>\n            {lang.formatString(lang.action_sidebar.deposit_description, name)}\n          </Text>\n        </p>\n        <div className=\"input_border\">\n          <Input\n            style={{ color: getColor('whiteText') }}\n            name=\"valueToLock\"\n            type=\"number\"\n            min=\"0\"\n            value={value}\n            onChange={onAmountChange}\n            placeholder={`0.00 USD`}\n            failureMessage={amountErrors}\n            data-testid=\"deposit-input\"\n          />\n        </div>\n      </Grid>\n\n      <Grid gridTemplateColumns=\"1fr\" gridColumnGap=\"m\" gridRowGap=\"s\">\n        <Button\n          className=\"btn\"\n          disabled={!valid}\n          onClick={() => {\n            deposit();\n          }}\n        >\n          {lang.actions.deposit}\n        </Button>\n        <Button\n          className=\"btn\"\n          onClick={() => {\n            depositAll();\n          }}\n        >\n          {lang.actions.depositAll}\n        </Button>\n        <Button\n          className=\"btn\"\n          variant=\"secondary-outline\"\n          onClick={() => {\n            reset();\n          }}\n        >\n          {lang.cancel}\n        </Button>\n      </Grid>\n      <InfoContainer>\n        <Info\n          title={lang.action_sidebar.current_account_balance}\n          body={`${formatter(availValueX2)} USD`}\n        />\n      </InfoContainer>\n    </Grid>\n  );\n};\nexport default DepositLPReward;\n"]},"metadata":{},"sourceType":"module"}