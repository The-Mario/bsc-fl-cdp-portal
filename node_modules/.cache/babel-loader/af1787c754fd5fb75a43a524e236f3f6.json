{"ast":null,"code":"'use strict';\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CurrencyRatio = exports.Currency = undefined;\n\nvar _getIterator2 = require('babel-runtime/core-js/get-iterator');\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _toArray2 = require('babel-runtime/helpers/toArray');\n\nvar _toArray3 = _interopRequireDefault(_toArray2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _bignumber = require('bignumber.js');\n\nvar _bignumber2 = _interopRequireDefault(_bignumber);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction amountToBigNumber(amount) {\n  if (amount instanceof Currency || typeof amount.toBigNumber === 'function') return amount.toBigNumber();\n  var value = (0, _bignumber2.default)(amount);\n  if (value.isNaN()) throw new Error('amount \"' + amount + '\" is not a number');\n  return value;\n}\n\nvar Currency = exports.Currency = function () {\n  function Currency(amount) {\n    var shift = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    (0, _classCallCheck3.default)(this, Currency);\n    if (shift === 'wei') shift = -18;\n    if (shift === 'ray') shift = -27;\n    if (shift === 'rad') shift = -45;\n    this._amount = shift ? amountToBigNumber(amount).shiftedBy(shift) : amountToBigNumber(amount);\n    this.symbol = '???';\n  }\n\n  (0, _createClass3.default)(Currency, [{\n    key: 'isEqual',\n    value: function isEqual(other) {\n      return this._amount.eq(other._amount) && this.symbol == other.symbol;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var decimals = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2;\n      return this._amount.toFixed(decimals) + ' ' + this.symbol;\n    }\n  }, {\n    key: 'toBigNumber',\n    value: function toBigNumber() {\n      return this._amount;\n    }\n  }, {\n    key: 'toNumber',\n    value: function toNumber() {\n      return this._amount.toNumber();\n    }\n  }, {\n    key: 'toFixed',\n    value: function toFixed() {\n      var shift = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (shift === 'wei') shift = 18;\n      if (shift === 'ray') shift = 27;\n      if (shift === 'rad') shift = 45; // always round down so that we never attempt to spend more than we have\n\n      return this._amount.shiftedBy(shift).integerValue(_bignumber2.default.ROUND_DOWN).toFixed();\n    }\n  }, {\n    key: 'isSameType',\n    value: function isSameType(other) {\n      return this.symbol === other.symbol;\n    }\n  }]);\n  return Currency;\n}(); // FIXME: this is not exactly analogous to Currency above, because all the\n// different pairs are instances of the same class rather than subclasses in\n// their own right. but for now it works fine, because it's the wrapper\n// functions that are used externally anyway. so if we want to be consistent, we\n// could either create subclasses for each ratio, or refactor Currency so it\n// also just stores its symbol in the instance rather than the subclass.\n\n\nvar CurrencyRatio = exports.CurrencyRatio = function (_Currency) {\n  (0, _inherits3.default)(CurrencyRatio, _Currency);\n\n  function CurrencyRatio(amount, numerator, denominator, shift) {\n    (0, _classCallCheck3.default)(this, CurrencyRatio);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (CurrencyRatio.__proto__ || (0, _getPrototypeOf2.default)(CurrencyRatio)).call(this, amount, shift));\n\n    _this.numerator = numerator;\n    _this.denominator = denominator;\n    _this.symbol = numerator.symbol + '/' + denominator.symbol;\n    return _this;\n  }\n\n  return CurrencyRatio;\n}(Currency);\n\nvar mathFunctions = [['plus', 'add'], ['minus', 'sub'], ['times', 'multipliedBy', 'mul'], ['div', 'dividedBy'], ['shiftedBy']];\nvar booleanFunctions = [['isLessThan', 'lt'], ['isLessThanOrEqualTo', 'lte'], ['isGreaterThan', 'gt'], ['isGreaterThanOrEqualTo', 'gte'], ['eq']];\n\nfunction assertValidOperation(method, left, right) {\n  if (!right && right !== 0) {\n    throw new Error('Invalid operation: ' + left.symbol + ' ' + method + ' with no right operand');\n  }\n\n  if (!(right instanceof Currency) || left.isSameType(right)) return;\n\n  if (right instanceof CurrencyRatio) {\n    // only supporting Currency as a left operand for now, though we could\n    // extend this to support ratio-ratio math if needed\n    switch (method) {\n      case 'times':\n        if (left.isSameType(right.denominator)) return;\n        break;\n\n      case 'div':\n        if (left.isSameType(right.numerator)) return;\n        break;\n    }\n  } else {\n    switch (method) {\n      // division between two different units results in a ratio, e.g. USD/DAI\n      case 'div':\n        return;\n    }\n  }\n\n  throw new Error('Invalid operation: ' + left.symbol + ' ' + method + ' ' + right.symbol);\n}\n\nfunction bigNumberFnResult(method, left, right, value) {\n  if (right instanceof CurrencyRatio) {\n    switch (method) {\n      case 'times':\n        return new right.numerator(value);\n\n      case 'div':\n        return new right.denominator(value);\n    }\n  }\n\n  if (!(right instanceof Currency) || left.isSameType(right)) {\n    if (left instanceof CurrencyRatio) {\n      return new left.constructor(value, left.numerator, left.denominator, left.shift);\n    }\n\n    return new left.constructor(value);\n  }\n\n  return new CurrencyRatio(value, left.constructor, right.constructor);\n}\n\nfunction bigNumberFnWrapper(method, isBoolean) {\n  return function (other) {\n    assertValidOperation(method, this, other);\n    var otherBigNumber = other instanceof Currency ? other.toBigNumber() : other;\n    var value = this.toBigNumber()[method](otherBigNumber);\n    return isBoolean ? value : bigNumberFnResult(method, this, other, value);\n  };\n}\n\n(0, _assign2.default)(Currency.prototype, mathFunctions.reduce(function (output, _ref) {\n  var _ref2 = (0, _toArray3.default)(_ref),\n      method = _ref2[0],\n      aliases = _ref2.slice(1);\n\n  output[method] = bigNumberFnWrapper(method);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (0, _getIterator3.default)(aliases), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var alias = _step.value;\n      output[alias] = output[method];\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return output;\n}, {}), booleanFunctions.reduce(function (output, _ref3) {\n  var _ref4 = (0, _toArray3.default)(_ref3),\n      method = _ref4[0],\n      aliases = _ref4.slice(1);\n\n  output[method] = bigNumberFnWrapper(method, true);\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (0, _getIterator3.default)(aliases), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var alias = _step2.value;\n      output[alias] = output[method];\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return output;\n}, {}));\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(_getIterator3, \"_getIterator3\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_toArray3, \"_toArray3\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_assign2, \"_assign2\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_getPrototypeOf2, \"_getPrototypeOf2\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_possibleConstructorReturn3, \"_possibleConstructorReturn3\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_inherits3, \"_inherits3\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_classCallCheck3, \"_classCallCheck3\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_createClass3, \"_createClass3\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_bignumber2, \"_bignumber2\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(_interopRequireDefault, \"_interopRequireDefault\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(amountToBigNumber, \"amountToBigNumber\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(Currency, \"Currency\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(CurrencyRatio, \"CurrencyRatio\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(mathFunctions, \"mathFunctions\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(booleanFunctions, \"booleanFunctions\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(assertValidOperation, \"assertValidOperation\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(bigNumberFnResult, \"bigNumberFnResult\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n  reactHotLoader.register(bigNumberFnWrapper, \"bigNumberFnWrapper\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/@makerdao/currency/dist/Currency.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":null,"metadata":{},"sourceType":"script"}