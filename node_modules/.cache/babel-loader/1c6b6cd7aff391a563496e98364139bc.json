{"ast":null,"code":"import _slicedToArray from \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport { useState, useEffect } from 'react';\nimport useMaker from 'hooks/useMaker';\nexport var useWeb3BlockHeight = function useWeb3BlockHeight() {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var _useMaker = useMaker(),\n      maker = _useMaker.maker;\n\n  var _useState = useState(initialState),\n      _useState2 = _slicedToArray(_useState, 2),\n      blockHeight = _useState2[0],\n      setBlockHeight = _useState2[1];\n\n  if (!maker) return;\n  if (!maker.service('web3')) return;\n  maker.service('web3').onNewBlock(setBlockHeight);\n  return blockHeight;\n};\n\n__signature__(useWeb3BlockHeight, \"useMaker{{ maker }}\\nuseState{[blockHeight, setBlockHeight](initialState)}\", function () {\n  return [useMaker];\n});\n\nvar useBlockHeight = function useBlockHeight() {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var _useMaker2 = useMaker(),\n      watcher = _useMaker2.watcher;\n\n  var _useState3 = useState(initialState),\n      _useState4 = _slicedToArray(_useState3, 2),\n      blockHeight = _useState4[0],\n      setBlockHeight = _useState4[1];\n\n  useEffect(function () {\n    if (!watcher) return;\n    var subscription = watcher.onNewBlock(function (blockHeight) {\n      return setBlockHeight(blockHeight);\n    });\n    return subscription.unsub;\n  }, [watcher]);\n  return blockHeight;\n};\n\n__signature__(useBlockHeight, \"useMaker{{ watcher }}\\nuseState{[blockHeight, setBlockHeight](initialState)}\\nuseEffect{}\", function () {\n  return [useMaker];\n});\n\nvar _default = useBlockHeight;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(useWeb3BlockHeight, \"useWeb3BlockHeight\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useBlockHeight.js\");\n  reactHotLoader.register(useBlockHeight, \"useBlockHeight\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useBlockHeight.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useBlockHeight.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/Users/good/Documents/Good/GitHub/FL/fork/bsc-fl-cdp-portal/src/hooks/useBlockHeight.js"],"names":["useState","useEffect","useMaker","useWeb3BlockHeight","initialState","maker","blockHeight","setBlockHeight","service","onNewBlock","useBlockHeight","watcher","subscription","unsub"],"mappings":";;;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAyB;AAAA,MAAxBC,YAAwB,uEAAT,IAAS;;AAAA,kBACvCF,QAAQ,EAD+B;AAAA,MACjDG,KADiD,aACjDA,KADiD;;AAAA,kBAEnBL,QAAQ,CAACI,YAAD,CAFW;AAAA;AAAA,MAElDE,WAFkD;AAAA,MAErCC,cAFqC;;AAGzD,MAAI,CAACF,KAAL,EAAY;AACZ,MAAI,CAACA,KAAK,CAACG,OAAN,CAAc,MAAd,CAAL,EAA4B;AAE5BH,EAAAA,KAAK,CAACG,OAAN,CAAc,MAAd,EAAsBC,UAAtB,CAAiCF,cAAjC;AAEA,SAAOD,WAAP;AACD,CATM;;cAAMH,kB;UACOD,Q;;;AAUpB,IAAMQ,cAAc,GAAG,SAAjBA,cAAiB,GAAyB;AAAA,MAAxBN,YAAwB,uEAAT,IAAS;;AAAA,mBAC1BF,QAAQ,EADkB;AAAA,MACtCS,OADsC,cACtCA,OADsC;;AAAA,mBAERX,QAAQ,CAACI,YAAD,CAFA;AAAA;AAAA,MAEvCE,WAFuC;AAAA,MAE1BC,cAF0B;;AAI9CN,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACU,OAAL,EAAc;AACd,QAAMC,YAAY,GAAGD,OAAO,CAACF,UAAR,CAAmB,UAAAH,WAAW;AAAA,aACjDC,cAAc,CAACD,WAAD,CADmC;AAAA,KAA9B,CAArB;AAGA,WAAOM,YAAY,CAACC,KAApB;AACD,GANQ,EAMN,CAACF,OAAD,CANM,CAAT;AAQA,SAAOL,WAAP;AACD,CAbD;;cAAMI,c;UACgBR,Q;;;eAcPQ,c;AAAf;;;;;;;;;;0BA1BaP,kB;0BAWPO,c","sourcesContent":["import { useState, useEffect } from 'react';\nimport useMaker from 'hooks/useMaker';\n\nexport const useWeb3BlockHeight = (initialState = null) => {\n  const { maker } = useMaker();\n  const [blockHeight, setBlockHeight] = useState(initialState);\n  if (!maker) return;\n  if (!maker.service('web3')) return;\n\n  maker.service('web3').onNewBlock(setBlockHeight);\n\n  return blockHeight;\n};\n\nconst useBlockHeight = (initialState = null) => {\n  const { watcher } = useMaker();\n  const [blockHeight, setBlockHeight] = useState(initialState);\n\n  useEffect(() => {\n    if (!watcher) return;\n    const subscription = watcher.onNewBlock(blockHeight =>\n      setBlockHeight(blockHeight)\n    );\n    return subscription.unsub;\n  }, [watcher]);\n\n  return blockHeight;\n};\n\nexport default useBlockHeight;\n"]},"metadata":{},"sourceType":"module"}